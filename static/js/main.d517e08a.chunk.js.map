{"version":3,"sources":["redux/actions/index.js","redux/reducers/optionsByAttribute.js","redux/reducers/tareaExtra.js","redux/reducers/auth.js","redux/index.js","redux/reducers/actividadTareas.js","redux/reducers/actividad.js","userManager.js","components/Main/Unauthorized.js","components/UI/LoadSpinner.js","components/Main/Login.js","utils.js","APIClientEvents.js","config.js","APIClient.js","tokenManager.js","components/Main/LoginContainer.js","components/Main/loggedIn.js","components/Main/withAuthorization.js","history.js","components/Menu/Menu.js","components/Menu/MenuContainer.js","components/Main/Homepage.js","components/Main/HomepageContainer.js","screens/Main/Homepage.js","components/Main/Callback.js","components/Main/CallbackContainer.js","screens/Main/Callback.js","components/UI/Input.js","components/Dominio/Form.js","components/Dominio/FormContainer.js","components/UI/Select.js","components/UI/SelectAPI.js","components/Actividad/Form.js","components/Actividad/FormContainer.js","screens/Actividad/Form.js","components/Actividad/AddTarea/Search.js","components/Actividad/AddTarea/SearchContainer.js","components/Actividad/AddTarea/SelectTarea.js","components/Actividad/AddTarea/SelectTareaContainer.js","components/Actividad/AddTarea/PendingTareasListContainer.js","components/UI/CheckboxGroup.js","components/UI/ActionList.js","components/Actividad/AddTarea/TareasActionList.js","components/Actividad/AddTarea/TareasActionListContainer.js","components/Actividad/AddTarea/Button.js","components/Actividad/AddTarea/ButtonContainer.js","graph-config.js","components/Planificacion/Graph.js","components/Actividad/AddTarea/GraphContainer.js","components/Actividad/AddTarea/AddTareaContainer.js","screens/Actividad/AddTareas.js","components/Tarea/Extra/FormOption.js","components/Tarea/Extra/FormOptionContainer.js","components/Tarea/Extra/FormElegirOpcion.js","components/Tarea/Extra/FormElegirOpcionContainer.js","components/Tarea/Extra/FormValidElements.js","components/Tarea/Extra/FormValidElementsContainer.js","components/Tarea/Extra/FormMultipleChoice.js","components/Tarea/Extra/FormMultipleChoiceContainer.js","components/Tarea/Extra/FormContador.js","components/Tarea/Extra/FormContadorContainer.js","components/Tarea/Extra/FormContadores.js","components/Tarea/Extra/FormContadoresContainer.js","components/Tarea/Extra/FormDeposito.js","components/Tarea/Extra/FormDepositoContainer.js","components/Tarea/TareaExtra.js","components/Tarea/Form.js","components/Tarea/FormContainer.js","screens/Tarea/Form.js","components/UI/ShowLinksList.js","components/Actividad/PublicList.js","components/Actividad/PublicListContainer.js","screens/Actividad/PublicList.js","components/Actividad/ListUser.js","components/Actividad/ListUserContainer.js","screens/Actividad/ListUser.js","components/Actividad/Show.js","components/Actividad/ShowContainer.js","screens/Actividad/Show.js","components/UI/CheckBox.js","components/Planificacion/ModalTarea.js","components/Planificacion/ModalConexion.js","components/Planificacion/Edit.js","components/Planificacion/EditContainer.js","screens/Planificacion/Edit.js","components/Tarea/PublicList.js","components/Tarea/PublicListContainer.js","screens/Tarea/PublicList.js","components/Tarea/ListUser.js","components/Tarea/ListUserContainer.js","screens/Tarea/ListUser.js","components/Tarea/Show.js","components/Tarea/ShowContainer.js","screens/Tarea/Show.js","App.js","index.js"],"names":["failAttribute","attribute","type","requestOptions","receiveOptions","options","unchooseTarea","id","addTarea","tarea","setCurrentActividad","actividad","removeElementFromExtra","element","removeValidElementFromExtra","removeByScoreCriterion","criterion","addScoreToCriterion","score","criterionName","removeScoreFromCriteria","code","addFileToExtra","url","filetype","apiUserFound","auth","state","isFetching","didInvalidate","error","items","action","lastUpdated","receivedAt","index","findIndex","item","nombre","option","INIT_STATE","elements","validElements","byScore","INITIAL_STATE","token","accessToken","expiresAt","roles","user","isLoading","combineReducers","oidc","optionsByAttribute","Object","assign","actividadTareas","criteria","autor","dominio","tareasResult","selectedTareaId","chosenTareas","find","filter","tareaIndex","resultTareas","tareas","currentActividad","currentDominioId","tareaExtra","extra","name","validIndex","criterionIndex","currentCriterion","scores","value","map","withoutKey","elem","elementCode","deposits","depositIndex","depositCode","element2","plano","apellido","email","userManagerConfig","client_id","redirect_uri","window","location","protocol","hostname","port","response_type","scope","authority","automaticSilentRenew","silent_redirect_uri","filterProtocolClaims","loadUserInfo","userStore","WebStorageStateStore","store","localStorage","userManager","createUserManager","LoadSpinner","Form","Control","as","Button","variant","disabled","Spinner","animation","size","role","aria-hidden","styles","root","display","flexDirection","justifyContent","alignItems","flexShrink","Login","props","style","onClick","data-cy","textTransform","width","marginBotton","marginRight","alt","src","Text","className","getRandomSlug","rand","Math","random","toString","substring","sha256","expired","Date","now","APIClientEvents","this","_tokenNotFound","Event","_apiUserFound","e","raise","cb","addHandler","removeHandler","API_BASE_URL","TIPOS_EXTRA","TIPOS_OPCIONES","TIPOS_PLANO","CONDITIONS_ARRAY","TASK_CONDITIONS_ARRAY","APIClient","_events","tokenManager","getState","id_token","fetchAuth","fetchToken","authorizedRequest","fetch","method","headers","body","JSON","stringify","response","json","data","error_code","access_token","expiresIn","expires_in","uri","parameters","user_message","getToken","object","authorizedGetRequest","unauthorizedRequest","authorizedPostRequest","authorizedPutRequest","planificacion","authorizedDeleteRequest","client","dispatch","userSignedOut","storeApiUser","removeItem","setTimeout","tokenString","getItem","parse","isLoadingUser","delay","console","log","setToken","me","setItem","getActividadesPublic","getActividadPublic","getActividad","getTarea","getTareaPublic","getTareasPublic","getTareasForActividad","getTareasForActividadPublic","getPlanificacionForActividad","getPlanificacionForActividadPublic","getMisActividades","getMisTareas","postDominio","postActividad","postTarea","postExtraToTarea","postFilePlanoToTarea","putTareasToActividad","putPlanificacionToActividad","deleteSaltosFromActividad","deleteTareasFromActividad","LoginContainer","onLoginButtonClick","bind","event","preventDefault","history","push","values","queryString","search","keys","indexOf","React","Component","mapStateToProps","WrappedComponent","connect","createBrowserHistory","Menu","Navbar","bg","expand","Brand","href","Toggle","aria-controls","Collapse","Nav","Link","onClickCerrarSesion","MenuContainer","removeUser","removeApiUser","signinRedirect","onClickIniciarSesion","Homepage","match","params","Container","Row","Col","border","padding","Callback","successCallback","errorCallback","CallbackContainer","onError","onSuccess","Input","horizontal","Group","controlId","Label","column","sm","label","placeholder","onChange","onKeyPress","onBlur","FormDominio","InputGroup","FormControl","Append","marginTop","errorMessage","FormDominioContainer","handleChange","setState","target","createDominio","key","Select","optionsCache","dataCy","defaultValue","field","nextProps","prevState","length","onPropsChangeLess","document","querySelector","onPropsChangeMore","SelectAPI","getElements","authorized","publicGetRequest","results","Actividad","initialValues","objetivo","idioma","tipoPlanificacion","estado","codigo","validator","validate","errors","onSubmit","setSubmitting","touched","handleBlur","submitForm","isSubmitting","dominioDefaultValue","success","to","actividadId","ActividadFormContainer","handleFormSubmit","createActividad","handleInput","ActividadForm","TareaSearch","criterionId","searchBox","TareaSearchContainer","AddTareasSelectTarea","selectedTarea","consigna","AddTareasSelectTareaContainer","tareasCache","clone","PendingTareasListContainer","remainingTareas","CheckboxGroup","FormGroup","marginLeft","group","FormCheckLabel","FormCheckInput","ActionList","ListGroup","Item","input","select","checkboxGroup","AddTareasActionList","AddTareasActionListContainer","clonedTareas","AddTareasButton","AddTareasButtonContainer","tareasIds","setTareasToActividad","EmptyNodeShape","viewBox","height","cx","cy","r","OptionalEmptyNodeShape","fill","StartShape","stroke","strokeWidth","OptionalStartShape","EndShape","OptionalEndShape","EdgeTypes","emptyEdge","shape","shapeId","squareEdge","x","y","NodeSubtypes","NodeTypes","emptyNode","typeText","optionalEmptyNode","start","optionalStart","end","optionalEnd","Graph","onUpdateNode","onSelectNode","viewNode","onClickNode","onSelectEdge","viewEdge","onClickEdge","onCreateNode","onDeleteNode","onConnect","onCreateEdge","onSwapEdge","onDeleteEdge","layoutEngineType","selected","graph","nodes","edges","GraphView","searchNode","node","searchEdge","edge","source","nodeKey","i","getNodeIndex","GraphConfig","ref","el","nodeTypes","nodeSubtypes","edgeTypes","HorizontalTree","onUndo","onCopySelected","onPasteSelected","conexiones","prevNodes","prevEdges","optional","newGraph","title","graphId","initial","getGraph","newNodes","nodeIndex","prevNode","newEdges","conexion","origen","destino","on","condicion","answer","respuesta","nodeIds","includes","neighbours","sources","getNodesWithTypeUpdated","GraphContainer","loadTareas","tareasData","saltos","forEach","salto","origen_id","destino_ids","md5","condicionName","respuestaNombre","tareaNombre","opcionales_ids","o","iniciales_ids","AddTareaContainer","getClonedTareas","getClone","ActividadAddTareas","FormOption","elementName","FormOptionContainer","addElementToExtra","FormElegirOpcion","FormElegirOpcionContainer","FormValidElements","FormValidElementsContainer","selectedElementId","FormMultipleChoice","depositos","recoleccion","onChangePlano","onClickElements","onChangeChecks","onChangeCheck","valid","onClickValids","FormMultipleChoiceContainer","handleCheck","codes","split","checked","addDepositToElement","removeDepositFromElement","handlePlano","file","files","URL","createObjectURL","tipo","FormContador","mensaje","FormContadorContainer","message","FormContadores","criterios","onClickQuitarLink","FormContadoresContainer","FormDeposito","FormDepositoContainer","TareaExtra","tipoTarea","FormTarea","FormTareaContainer","newTarea","obj","hasOwnProperty","criterionErrors","elementErrors","processedExtra","processExtra","createTarea","tareaData","blob","File","formData","FormData","append","addPlanoToTarea","planoData","tareaid","ShowLinksList","uriPrefix","ActividadPublicList","actividades","ActividadPublicListContainer","getActividades","ActividadListUser","ActividadListUserContainer","ActividadShow","ActividadShowContainer","getActividadAndTareas","CheckBox","ModalTarea","filterSiguientes","memoize","idTarea","findTarea","tareaId","onInicialChange","onUpdateTarea","onOptionalChange","onClickMostrarConexiones","showConexiones","onCondicionCheckboxChange","showCondicion","agregarConexionDisabled","onConexionChange","nativeEvent","selectedIndex","origenName","text","selectedSiguiente","parseInt","onCondicionSelectChange","selectedCondition","onAnswerTaskChange","answerTaskName","selectedAnswerTask","onClickAgregarConexion","onAddConexion","handleClose","getSelectableTareas","conexionesSiguientes","tareaHasOptions","getAnswerTaskLabel","getAnswerTareaSelect","show","Modal","onHide","centered","Header","closeButton","Title","Body","Card","md","getTareaById","ModalConexion","onRemoveConexion","Footer","PlanificacionEdit","color","graphConexiones","paddingTop","paddingBottom","saveSuccess","onGuardarClick","handleCloseTarea","showTarea","selectedConexion","handleCloseConexion","showConexion","PlanificacionEditContainer","graphTareas","t","newConexion","onResetSaltos","newSaltos","newConexiones","con","graphNodes","concat","createJumps","opcionalIds","inicialIds","destinos","setPlanificacion","handleShowTarea","handleShowConexion","conexionId","createRef","dataTareas","jumps","conditionalJumps","jump","jumpsByAnswer","targetByCondition","k","targets","undefined","opcionales","iniciales","setPlanificacionInActividad","TareasPublicList","TareasPublicListContainer","getTareas","TareaPublicList","TareaListUser","TareaListUserContainer","allowedRoles","TareaShow","imgSrc","Image","TareaShowContainer","Autor","loggedIn","allowed","isAllowed","Unauthorized","App","basename","path","exact","component","Usuario","TareaForm","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducer","loadUser","initialize","loadApiUser","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d517e08a.chunk.js","sourcesContent":["// optionsByAttribute\nexport const FAIL_ATTRIBUTE = 'FAIL_ATTRIBUTE'\n\nexport function failAttribute(attribute) {\n  return {\n    type: FAIL_ATTRIBUTE,\n    attribute\n  }\n}\n\nexport const INVALIDATE_ATTRIBUTE = 'INVALIDATE_ATTRIBUTE';\n\nexport function invalidateAttribute(attribute) {\n  return {\n    type: INVALIDATE_ATTRIBUTE,\n    attribute\n  }\n}\n\nexport const REQUEST_OPTIONS = 'REQUEST_OPTIONS'\n\nexport function requestOptions(attribute) {\n  return {\n    type: REQUEST_OPTIONS,\n    attribute\n  }\n}\n\nexport const RECEIVE_OPTIONS = 'RECEIVE_OPTIONS'\n\nexport function receiveOptions(attribute, options) {\n  return {\n    type: RECEIVE_OPTIONS,\n    attribute,\n    options\n  }\n}\n\nexport const ADD_SELECT_OPTION = 'ADD_SELECT_OPTION'\n\nexport function addSelectOption(attribute, option) {\n  return {\n    type: ADD_SELECT_OPTION,\n    attribute,\n    option\n  }\n}\n\n// actividadTareas\nexport const SELECT_TAREA = 'SELECT_TAREA'\n\nexport function selectTarea(id) {\n  return {\n    type: SELECT_TAREA,\n    id\n  }\n}\n\nexport const CHOOSE_TAREA = 'CHOOSE_TAREA'\n\nexport function chooseTarea() {\n  return {\n    type: CHOOSE_TAREA\n  }\n}\n\nexport const UNCHOOSE_TAREA = 'UNCHOOSE_TAREA'\n\nexport function unchooseTarea(id) {\n  return {\n    type: UNCHOOSE_TAREA,\n    id\n  }\n}\n\nexport const ADD_TAREA = 'ADD_TAREA'\n\nexport function addTarea(tarea) {\n  return {\n    type: ADD_TAREA,\n    tarea\n  }\n}\n\nexport const SET_RESULT_TAREAS = \"SET_RESULT_TAREAS\"\n\nexport function setResultTareas(tareas) {\n  return {\n    type: SET_RESULT_TAREAS,\n    tareas\n  }\n}\n\n//actividad\nexport const SET_CURRENT_ACTIVIDAD = \"SET_CURRRENT_ACTIVIDAD\"\n\nexport function setCurrentActividad(actividad) {\n  return {\n    type: SET_CURRENT_ACTIVIDAD,\n    actividad\n  }\n}\n\n//tareaExtra\nexport const SET_TAREA_EXTRA = \"SET_TAREA_EXTRA\"\n\nexport function setTareaExtra(extra) {\n  return {\n    type: SET_TAREA_EXTRA,\n    extra\n  }\n}\n\nexport const CLEAR_TAREA_EXTRA = \"CLEAR_TAREA_EXTRA\"\n\nexport function clearTareaExtra() {\n  return {\n    type: CLEAR_TAREA_EXTRA\n  }\n}\n\nexport const ADD_ELEMENT_TO_EXTRA = \"ADD_ELEMENT_TO_EXTRA\"\n\nexport function addElementToExtra(element) {\n  return {\n    type: ADD_ELEMENT_TO_EXTRA,\n    element\n  }\n}\n\nexport const REMOVE_ELEMENT_FROM_EXTRA = \"REMOVE_ELEMENT_FROM_EXTRA\"\n\nexport function removeElementFromExtra(element) {\n  return {\n    type: REMOVE_ELEMENT_FROM_EXTRA,\n    element\n  }\n}\n\nexport const ADD_VALID_ELEMENT_TO_EXTRA = \"ADD_VALID_ELEMENT_TO_EXTRA\"\n\nexport function addValidElementToExtra(element) {\n  return {\n    type: ADD_VALID_ELEMENT_TO_EXTRA,\n    element\n  }\n}\n\nexport const REMOVE_VALID_ELEMENT_FROM_EXTRA = \"REMOVE_VALID_ELEMENT_FROM_EXTRA\"\n\nexport function removeValidElementFromExtra(element) {\n  return {\n    type: REMOVE_VALID_ELEMENT_FROM_EXTRA,\n    element\n  }\n}\n\nexport const ADD_BYSCORE_CRITERION = \"ADD_BYSCORE_CRITERION\"\n\nexport function addByScoreCriterion(criterion) {\n  return {\n    type: ADD_BYSCORE_CRITERION,\n    criterion\n  }\n}\n\nexport const REMOVE_BYSCORE_CRITERION = \"REMOVE_BYSCORE_CRITERION\"\n\nexport function removeByScoreCriterion(criterion) {\n  return {\n    type: REMOVE_BYSCORE_CRITERION,\n    criterion\n  }\n}\n\nexport const ADD_SCORE_TO_CRITERION = \"ADD_SCORE_TO_CRITERION\"\n\nexport function addScoreToCriterion(score, criterionName) {\n  return {\n    type: ADD_SCORE_TO_CRITERION,\n    score,\n    criterionName\n  }\n}\n\nexport const REMOVE_SCORE_FROM_CRITERIA = \"REMOVE_SCORE_FROM_CRITERIA\"\n\nexport function removeScoreFromCriteria(code) {\n  return {\n    type: REMOVE_SCORE_FROM_CRITERIA,\n    code\n  }\n}\n\nexport const ADD_DEPOSIT_TO_ELEMENT = \"ADD_DEPOSIT_TO_ELEMENT\"\n\nexport function addDepositToElement(elementCode, depositCode) {\n  return {\n    type: ADD_DEPOSIT_TO_ELEMENT,\n    elementCode,\n    depositCode\n  }\n}\n\nexport const REMOVE_DEPOSIT_FROM_ELEMENT = \"REMOVE_DEPOSIT_FROM_ELEMENT\"\n\nexport function removeDepositFromElement(elementCode, depositCode) {\n  return {\n    type: REMOVE_DEPOSIT_FROM_ELEMENT,\n    elementCode,\n    depositCode\n  }\n}\n\nexport const ADD_FILE_TO_EXTRA = \"ADD_FILE_TO_EXTRA\"\n\nexport function addFileToExtra(url, filetype) {\n  return {\n    type: ADD_FILE_TO_EXTRA,\n    url,\n    filetype\n  }\n}\n\nexport const API_USER_FOUND = \"API_USER_FOUND\"\n\nexport function apiUserFound(auth) {\n  return {\n    type: API_USER_FOUND,\n    auth\n  }\n}\n\nexport const API_USER_EXPIRED = \"API_USER_EXPIRED\"\n\nexport function apiUserExpired() {\n  return {\n    type: API_USER_EXPIRED\n  }\n}\n\nexport const LOADING_API_USER = \"LOADING_API_USER\"\n\nexport function loadingApiUser() {\n  return {\n    type: LOADING_API_USER\n  }\n}\n\nexport const API_USER_LOGGED_OUT = \"API_USER_LOGGED_OUT\"\n\nexport function apiUserLoggedOut() {\n  return {\n    type: API_USER_LOGGED_OUT\n  }\n}","import { INVALIDATE_ATTRIBUTE, REQUEST_OPTIONS, RECEIVE_OPTIONS, FAIL_ATTRIBUTE, ADD_SELECT_OPTION } from '../actions'\n\nfunction options(\n    state = {\n        isFetching: false,\n        didInvalidate: false,\n        error: false,\n        items: []\n    },\n    action\n) {\n    switch (action.type) {\n        case FAIL_ATTRIBUTE:\n            return { ...state, isFetching: false, error: true }\n        case INVALIDATE_ATTRIBUTE:\n            return { ...state, didInvalidate: true }\n        case REQUEST_OPTIONS:\n            return { ...state, isFetching: true, didInvalidate: false }\n        case RECEIVE_OPTIONS:\n            return {\n                ...state,\n                isFetching: false,\n                error: false,\n                items: action.options,\n                lastUpdated: action.receivedAt\n            }\n        case ADD_SELECT_OPTION:\n            const index = state.items.findIndex(item => item.nombre === action.option.nombre);\n            if (index === -1) {\n                return {\n                    ...state,\n                    items: [...state.items, action.option]\n                }\n            } else {\n                return state;\n            }\n        default:\n            return state\n    }\n}\n\nexport default function optionsByAttribute(state = {}, action) {\n    switch (action.type) {\n        case FAIL_ATTRIBUTE:\n        case INVALIDATE_ATTRIBUTE:\n        case RECEIVE_OPTIONS:\n        case REQUEST_OPTIONS:\n        case ADD_SELECT_OPTION:\n            return Object.assign({}, state, {\n                [action.attribute]: options(state[action.attribute], action)\n            })\n        default:\n            return state\n    }\n}","import {\n    SET_TAREA_EXTRA, CLEAR_TAREA_EXTRA, ADD_ELEMENT_TO_EXTRA, REMOVE_ELEMENT_FROM_EXTRA,\n    ADD_VALID_ELEMENT_TO_EXTRA, REMOVE_VALID_ELEMENT_FROM_EXTRA, ADD_BYSCORE_CRITERION,\n    ADD_SCORE_TO_CRITERION, REMOVE_SCORE_FROM_CRITERIA, REMOVE_BYSCORE_CRITERION,\n    ADD_DEPOSIT_TO_ELEMENT,\n    REMOVE_DEPOSIT_FROM_ELEMENT,\n    ADD_FILE_TO_EXTRA\n} from '../actions'\nconst INIT_STATE = {\n    elements: [],\n    validElements: [],\n    byScore: []\n};\n\nexport default function tareaExtra(state = INIT_STATE, action) {\n    switch (action.type) {\n        case SET_TAREA_EXTRA:\n            return {\n                ...state,\n                extra: action.extra\n            };\n        case CLEAR_TAREA_EXTRA:\n            return INIT_STATE\n        case ADD_ELEMENT_TO_EXTRA:\n            let index = state.elements.findIndex(element => element.name === action.element.name);\n\n            if (index !== -1)\n                return state;\n\n            return {\n                ...state,\n                elements: [...state.elements, action.element]\n            }\n        case REMOVE_ELEMENT_FROM_EXTRA:\n            return {\n                ...state,\n                elements: state.elements.filter((item) => item.code !== action.element.code),\n                validElements: state.validElements.filter((item) => item !== action.element.code)\n            }\n        case ADD_VALID_ELEMENT_TO_EXTRA:\n            let validIndex = state.validElements.findIndex(element => element === action.element);\n\n            if (validIndex !== -1)\n                return state;\n\n            return {\n                ...state,\n                validElements: [...state.validElements, action.element]\n            }\n        case REMOVE_VALID_ELEMENT_FROM_EXTRA:\n            return {\n                ...state,\n                validElements: state.validElements.filter((item) => item !== action.element)\n            }\n        case ADD_BYSCORE_CRITERION:\n            let criterionIndex = state.byScore.findIndex(item => item.name === action.criterion.name);\n\n            if (criterionIndex !== -1)\n                return state\n\n            return {\n                ...state,\n                byScore: [...state.byScore, action.criterion],\n            }\n        case REMOVE_BYSCORE_CRITERION:\n            return {\n                ...state,\n                byScore: state.byScore.filter(item => item.name !== action.criterion.name)\n            }\n        case ADD_SCORE_TO_CRITERION:\n            let currentCriterion = state.byScore.find(item => item.name === action.criterionName)\n            let criterion = {\n                ...currentCriterion,\n                scores: {\n                    ...currentCriterion.scores,\n                    [action.score.code]: action.score.value\n                }\n            }\n            return {\n                ...state,\n                byScore: state.byScore.map(item => {\n                    if (item.name !== action.criterionName) { return item }\n                    else { return criterion }\n                })\n            }\n        case REMOVE_SCORE_FROM_CRITERIA:\n            let scores = state.byScore.map(item => {\n                const { [action.code]: value, ...withoutKey } = item.scores\n                return {\n                    ...item,\n                    scores: withoutKey\n                }\n            });\n            return {\n                ...state,\n                byScore: scores\n            }\n        case ADD_DEPOSIT_TO_ELEMENT:\n            const element = state.elements.find(elem => elem.code === action.elementCode);\n            if (element.deposits) {\n                const depositIndex = element.deposits.findIndex(elem => elem === action.depositCode);\n                if (depositIndex !== -1) {\n                    return state\n                }\n            } else {\n                element.deposits = []\n            }\n            element.deposits = [...element.deposits, action.depositCode];\n            return {\n                ...state,\n                elements: state.elements.map(elem => {\n                    if (elem.code !== action.elementCode) { return elem }\n                    else { return element }\n                })\n            }\n        case REMOVE_DEPOSIT_FROM_ELEMENT:\n            const element2 = state.elements.find(elem => elem.code === action.elementCode);\n            element2.deposits = element2.deposits.filter(elem => elem !== action.depositCode);\n            if (element2.deposits) {\n                return {\n                    ...state,\n                    elements: state.elements.map(elem => {\n                        if (elem.code !== action.elementCode) { return elem }\n                        else { return element2 }\n                    })\n                }\n            } else {\n                return state;\n            }\n        case ADD_FILE_TO_EXTRA:\n            return {\n                ...state,\n                plano: {\n                    url: action.url,\n                    filetype: action.filetype\n                }\n            }\n        default:\n            return state;\n    }\n}","import { API_USER_FOUND, API_USER_EXPIRED, LOADING_API_USER, API_USER_LOGGED_OUT } from \"../actions\";\n\nconst INITIAL_STATE = {\n    token: {\n        accessToken: null,\n        expiresAt: null\n    },\n    roles: [],\n    user: {},\n    isLoading: false\n}\n\nexport default function auth(state = INITIAL_STATE, action) {\n    switch (action.type) {\n        case API_USER_FOUND:\n            return {\n                ...state,\n                token: action.auth.token,\n                roles: action.auth.user.roles,\n                user: {\n                    nombre: action.auth.user.nombre,\n                    apellido: action.auth.user.apellido,\n                    email: action.auth.user.email\n                },\n                isLoading: false\n            }\n        case API_USER_EXPIRED:\n            return INITIAL_STATE;\n        case API_USER_LOGGED_OUT:\n            return INITIAL_STATE;\n        case LOADING_API_USER:\n            return {\n                ...INITIAL_STATE,\n                isLoading: true\n            }\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\n\nimport { reducer as oidc } from 'redux-oidc';\nimport optionsByAttribute from './reducers/optionsByAttribute';\nimport actividadTareas from './reducers/actividadTareas';\nimport actividad from './reducers/actividad';\nimport tareaExtra from './reducers/tareaExtra';\nimport auth from './reducers/auth';\n\nexport default combineReducers({\n    oidc,\n    optionsByAttribute,\n    actividadTareas,\n    actividad,\n    tareaExtra,\n    auth\n})","import {\n    CHOOSE_TAREA, SELECT_TAREA, UNCHOOSE_TAREA,\n    ADD_TAREA, SET_RESULT_TAREAS\n} from '../actions'\n\nexport default function actividadTareas(\n    state = {\n        criteria: {\n            autor: '',\n            nombre: '',\n            dominio: '',\n        },\n        tareasResult: [\n        ],\n        selectedTareaId: \"\",\n        chosenTareas: []\n    }, action\n) {\n    switch (action.type) {\n        case SELECT_TAREA:\n            return {\n                ...state,\n                selectedTareaId: action.id\n            }\n        case CHOOSE_TAREA:\n            let index = state.chosenTareas.findIndex(tarea => tarea.id === state.selectedTareaId);\n\n            if (index !== -1)\n                return state;\n\n            const tarea = state.tareasResult.find((tarea) => tarea.id === state.selectedTareaId);\n            return {\n                ...state,\n                chosenTareas: [...state.chosenTareas, tarea]\n            }\n        case UNCHOOSE_TAREA:\n            return {\n                ...state,\n                chosenTareas: state.chosenTareas.filter((tarea) => tarea.id !== action.id)\n            }\n        case ADD_TAREA:\n            const tareaIndex = state.chosenTareas.findIndex(tarea => tarea.nombre === action.tarea.nombre)\n            if(tareaIndex !== -1){\n                return state;\n            }\n            return {\n                ...state,\n                chosenTareas: [...state.chosenTareas, action.tarea]\n            }\n        case SET_RESULT_TAREAS:\n            return {\n                ...state,\n                resultTareas: action.tareas\n            }\n        default:\n            return state;\n    }\n}","import { SET_CURRENT_ACTIVIDAD } from '../actions'\nexport default function actividad (state={\n    currentActividad: {},\n    currentDominioId: \"\"\n}, action) {\n    switch (action.type) {\n        case SET_CURRENT_ACTIVIDAD:\n            return {...state, \n                currentActividad: action.actividad}\n        default:\n            return state;\n    }\n}","import { createUserManager } from 'redux-oidc';\nimport { WebStorageStateStore } from 'oidc-client';\n\nconst userManagerConfig = {\n  client_id: '43374848214-9up4el9vkf6dhbb6gc5qn2euqggp3c68.apps.googleusercontent.com',\n  redirect_uri: `${window.location.protocol}//${window.location.hostname}${window.location.port ? `:${window.location.port}` : ''}/callback`,\n  response_type: 'token id_token',\n  scope: 'openid profile email',\n  authority: 'https://accounts.google.com',\n  automaticSilentRenew: true,\n  silent_redirect_uri: `${window.location.protocol}//${window.location.hostname}${window.location.port ? `:${window.location.port}` : ''}/silent_renew.html`,\n  filterProtocolClaims: true,\n  loadUserInfo: true,\n  userStore: new WebStorageStateStore({ store: window.localStorage })\n};\n\nconst userManager = createUserManager(userManagerConfig);\n\nexport default userManager;","import React from 'react';\n\nexport default () => {\n    return <div><h2>No tenés permiso para ver esta página</h2></div>\n}","import React from 'react';\nimport { Spinner, Button, Form } from 'react-bootstrap'\n\nfunction LoadSpinner() {\n    return (\n        <Form.Control as={Button} variant=\"Light\" disabled>\n            <Spinner\n                as=\"span\"\n                animation=\"border\"\n                size=\"sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n            />\n            Cargando...\n        </Form.Control>\n    )\n}\n\nexport default LoadSpinner","import React from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\n\nconst Login = (props) => {\n  return (\n    <div style={styles.root}>\n      <h3>Bienvienido a AutoresDemo</h3>\n      <p>Iniciá sesión para continuar</p>\n      <Button onClick={props.onClick} variant={\"outline-dark\"} data-cy={\"iniciarSesionButton\"} role=\"button\" style={{ textTransform: \"none\" }}>\n        <img width=\"20px\" style={{ marginBotton: \"3px\", marginRight: \"5px\" }} alt=\"Google sign-in\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png\" />\n        Iniciar sesión con Google\n      </Button>\n      {props.error && <Form.Text className=\"text-danger\">Ocurrió un error</Form.Text>}\n    </div>\n  );\n}\n\nconst styles = {\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n    flexShrink: 1\n  }\n};\n\nexport default Login;","import sha256 from 'js-sha256';\n\nexport function getRandomSlug() {\n    const rand = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n    return sha256(rand);\n}\n\nexport function expired(expiresAt) {\n    return Date.now() > expiresAt;\n}\n\nexport function expiresAt(expiresIn) {\n    return Date.now() + expiresIn * 1000;\n}","import { Event } from 'oidc-client/src/Event';\n\nexport default class APIClientEvents {\n\n    constructor() {\n        this._tokenNotFound = new Event(\"Token not found\");\n        this._apiUserFound = new Event(\"Api user found\");\n    }\n\n    _raiseTokenNotFound(e) {\n        this._tokenNotFound.raise(e);\n    }\n\n    addTokenNotFound(cb) {\n        this._tokenNotFound.addHandler(cb);\n    }\n\n    removeTokenNotFound(cb) {\n        this._tokenNotFound.removeHandler(cb);\n    }\n\n    _raiseApiUserFound(e){\n        this._apiUserFound.raise(e);\n    }\n\n    addApiUserFound(cb) {\n        this._apiUserFound.addHandler(cb);\n    }\n\n    removeApiUserFound(cb) {\n        this._apiUserFound.removeHandler(cb);\n    }\n}","export const API_BASE_URL = 'http://localhost:5000/api/v1.0';\n\nexport const TOKEN_AUTH_URL = \"http://localhost:5000/api/oauth/v2/token\";\n\nexport const TIPO_SELECCION = \"5\";\nexport const TIPO_MULTIPLE_CHOICE = \"6\";\nexport const TIPO_CONTADORES = \"7\";\nexport const TIPO_RECOLECCION = \"8\";\n\nexport const TIPOS_EXTRA = [TIPO_SELECCION, TIPO_MULTIPLE_CHOICE, TIPO_CONTADORES, TIPO_RECOLECCION];\nexport const TIPOS_OPCIONES = [TIPO_SELECCION, TIPO_MULTIPLE_CHOICE, TIPO_RECOLECCION];\n\nexport const TIPO_DEPOSITO = \"9\";\n\nexport const TIPOS_PLANO = [TIPO_RECOLECCION, TIPO_DEPOSITO]\n\nexport const CONDITIONS_ARRAY = [{ name: \"SÍ se elige\", code: \"YES\" },\n{ name: \"NO se elige\", code: \"NO\" },\n{ name: \"SÍ se pasó por\", code: \"YES_TASK\" },\n{ name: \"NO se pasó por\", code: \"NO_TASK\" }]\n\nexport const TASK_CONDITIONS_ARRAY = [{ name: \"SÍ se pasó por\", code: \"YES_TASK\" },\n{ name: \"NO se pasó por\", code: \"NO_TASK\" }]","import tokenManager from \"./tokenManager\";\nimport APIClientEvents from \"./APIClientEvents\";\nimport { TOKEN_AUTH_URL, API_BASE_URL } from \"./config\";\nimport { expired, expiresAt } from \"./utils\";\n\nexport default class APIClient {\n    constructor() {\n        this._events = new APIClientEvents();\n    }\n\n    setToken(token) {\n        this.token = token;\n    }\n\n    getToken() {\n        const token = this.token;\n        if (!token || expired(token.expiresAt)) {\n            const state = tokenManager.store.getState();\n            if (state.oidc && state.oidc.user) {\n                const id_token = tokenManager.store.getState().oidc.user.id_token;\n                const auth = tokenManager.fetchAuth(id_token);\n                if (auth && auth.token && auth.token.accessToken) {\n                    this._events._apiUserFound.raise(auth);\n                    return token;\n                } else {\n                    this._events._tokenNotFound.raise();\n                    return null\n                }\n            } else {\n                this._events._tokenNotFound.raise();\n                return null\n            }\n        } else {\n            return token;\n        }\n    }\n\n    async fetchAuth(id_token) {\n        const token = await this.fetchToken(id_token);\n        if (!token) {\n            return null\n        }\n        const user = await this.authorizedRequest(token, '/me');\n        return {\n            token, user\n        }\n    }\n\n    async fetchToken(id_token) {\n        const response = await fetch(TOKEN_AUTH_URL, {\n            method: 'POST',\n            headers: {\n                \"X-AUTH-TOKEN\": true,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                \"token\": id_token\n            })\n        });\n        try {\n            const data = await response.json();\n            if (data.error_code) {\n                return null\n            } else {\n                const token = {\n                    accessToken: data.access_token,\n                    expiresAt: expiresAt(data.expires_in)\n                }\n                this.token = token;\n                return token;\n            }\n        } catch (error) {\n            return null;\n        }\n    }\n\n    async authorizedRequest(token, uri, parameters = {}, json = true) {\n        if (token && token.accessToken) {\n            parameters.headers = {\n                \"Authorization\": \"Bearer \" + token.accessToken\n            }\n            if(json) {\n                parameters.headers[\"Content-Type\"] = \"application/json\"\n            }\n            try {\n                const response = await fetch(API_BASE_URL + uri, parameters);\n                return await response.json();\n            } catch (error) {\n                return {\n                    user_message: \"Ocurrió un error\", error_code: 0\n                }\n            }\n        } else {\n            return { user_message: \"No autorizado\", error_code: 0 }\n        }\n    }\n\n    async unauthorizedRequest(uri, parameters = {}) {\n        const response = await fetch(API_BASE_URL + '/public' + uri, parameters);\n        return await response.json();\n    }\n\n    authorizedGetRequest(uri) {\n        const token = this.getToken();\n        return this.authorizedRequest(token, uri);\n    }\n\n    authorizedPostRequest(uri, object, stringify = true) {\n        const token = this.getToken();\n        return this.authorizedRequest(token, uri, {\n            body: stringify ? JSON.stringify(object) : object,\n            method: 'POST'\n        }, stringify)\n    }\n\n    authorizedPutRequest(uri, object, stringify = true) {\n        const token = this.getToken();\n        return this.authorizedRequest(token, uri, {\n            body: stringify ? JSON.stringify(object) : object,\n            method: 'PUT'\n        })\n    }\n\n    authorizedDeleteRequest(uri) {\n        const token = this.getToken();\n        return this.authorizedRequest(token, uri, { method: 'DELETE' });\n    }\n\n\n    me() {\n        return this.authorizedGetRequest('/me');\n    }\n\n\n    getActividadesPublic() {\n        return this.unauthorizedRequest('/actividades');\n    }\n\n    getActividadPublic(id) {\n        return this.unauthorizedRequest(`/actividades/${id}`)\n    }\n\n    getMisActividades() {\n        return this.authorizedGetRequest('/actividades/user');\n    }\n\n    getActividad(id) {\n        return this.authorizedGetRequest('/actividades/' + id);\n    }\n\n    getMisTareas() {\n        return this.authorizedGetRequest('/tareas/user');\n    }\n\n    getTarea(id) {\n        return this.authorizedGetRequest('/tareas/' + id);\n    }\n\n    getTareaPublic(id) {\n        return this.unauthorizedRequest('/tareas/' + id);\n    }\n\n    getTareasPublic() {\n        return this.unauthorizedRequest('/tareas');\n    }\n\n    getTareasForActividad(id) {\n        return this.authorizedGetRequest('/actividades/' + id + '/tareas');\n    }\n\n    getTareasForActividadPublic(id) {\n        return this.unauthorizedRequest(`/actividades/${id}/tareas`)\n    }\n\n    getPlanificacionForActividad(id) {\n        return this.authorizedGetRequest('/planificaciones/' + id)\n    }\n\n    getPlanificacionForActividadPublic(id) {\n        return this.unauthorizedRequest(`/planificaciones/${id}`)\n    }\n\n    postDominio(dominio) {\n        return this.authorizedPostRequest('/dominios', dominio);\n    }\n\n    postActividad(actividad) {\n        return this.authorizedPostRequest('/actividades', actividad);\n    }\n\n    postTarea(tarea) {\n        return this.authorizedPostRequest('/tareas', tarea);\n    }\n\n    postExtraToTarea(extra, tarea) {\n        return this.authorizedPostRequest('/tareas/' + tarea + '/extra', extra);\n    }\n\n    putTareasToActividad(tarea, actividad) {\n        return this.authorizedPutRequest('/actividades/' + actividad + '/tareas', tarea);\n    }\n\n    putPlanificacionToActividad(planificacion, actividad) {\n        return this.authorizedPutRequest('/planificaciones/' + actividad, planificacion);\n    }\n\n    postFilePlanoToTarea(plano, tarea) {\n        return this.authorizedPostRequest('/tareas/' + tarea + '/plano', plano, false)\n    }\n\n    deleteSaltosFromActividad(actividad) {\n        return this.authorizedDeleteRequest('/actividades/' + actividad + '/saltos');\n    }\n\n    deleteTareasFromActividad(actividad) {\n        return this.authorizedDeleteRequest('/actividades/' + actividad + '/tareas');\n    }\n}","import { apiUserFound, apiUserExpired, loadingApiUser } from './redux/actions';\nimport { expired } from './utils';\nimport APIClient from './APIClient';\nimport { userSignedOut } from 'redux-oidc';\n\nexport default class tokenManager {\n\n    static store = null;\n\n    static initialize(store) {\n        this.store = store;\n        this.client = new APIClient();\n        this.client._events._tokenNotFound.addHandler(() => {\n            this.store.dispatch(userSignedOut());\n        })\n        this.client._events._apiUserFound.addHandler((auth) => {\n            this.store.dispatch(apiUserFound(auth));\n            tokenManager.storeApiUser(auth.token);\n        })\n    }\n\n    static removeApiUser() {\n        localStorage.removeItem('auth.token');\n    }\n\n    static async delay() {\n        await setTimeout(1);\n    }\n    static async loadApiUser() {\n        this.store.dispatch(loadingApiUser());\n        const tokenString = localStorage.getItem('auth.token');\n        let token = null;\n        if (tokenString) {\n            token = JSON.parse(tokenString);\n        };\n        if (token && token.accessToken && expired(token.expiresAt)) {\n            if (this.store.getState().oidc.isLoadingUser) {\n                await this.delay();\n                console.log(\"retry\");\n                if (!this.store.getState().oidc.isLoadingUser) {\n                    if (this.store.getState().oidc.user) {\n                        const auth = await this.fetchAuth(this.store.getState().oidc.user.id_token)\n                        token = auth.token;\n                        this.storeApiUser(token);\n                    } else {\n                        console.log(\"not logged in\");\n                    }\n                } else {\n                    console.log(\"still no\")\n                }\n            }\n        }\n        if (token && token.accessToken && !expired(token.expiresAt)) {\n            this.client.setToken(token);\n            try {\n                const user = await this.client.me();\n                this.store.dispatch(apiUserFound({ token, user }));\n            } catch (error) {\n                this.store.dispatch(apiUserExpired());\n            }\n        } else {\n            this.store.dispatch(apiUserExpired());\n        }\n    }\n\n    static storeApiUser(token) {\n        localStorage.setItem('auth.token', JSON.stringify(token));\n        this.client.setToken(token);\n    }\n\n    static fetchAuth(id_token) {\n        return this.client.fetchAuth(id_token);\n    }\n\n    static authorizedGetRequest(uri) {\n        return this.client.authorizedGetRequest(uri);\n    }\n\n    static publicGetRequest(uri) {\n        return this.client.unauthorizedRequest(uri);\n    }\n\n    static getActividadesPublic() {\n        return this.client.getActividadesPublic();\n    }\n\n    static getActividadPublic(id) {\n        return this.client.getActividadPublic(id);\n    }\n\n    static getActividad(id) {\n        return this.client.getActividad(id);\n    }\n\n    static getTarea(id) {\n        return this.client.getTarea(id);\n    }\n\n    static getTareaPublic(id) {\n        return this.client.getTareaPublic(id);\n    }\n\n    static getTareasPublic() {\n        return this.client.getTareasPublic();\n    }\n\n    static getTareasForActividad(id) {\n        return this.client.getTareasForActividad(id);\n    }\n\n    static getTareasForActividadPublic(id) {\n        return this.client.getTareasForActividadPublic(id);\n    }\n\n    static getPlanificacionForActividad(id) {\n        return this.client.getPlanificacionForActividad(id);\n    }\n\n    static getPlanificacionForActividadPublic(id) {\n        return this.client.getPlanificacionForActividadPublic(id);\n    }\n\n    static getMisActividades() {\n        return this.client.getMisActividades();\n    }\n\n    static getMisTareas() {\n        return this.client.getMisTareas();\n    }\n\n    static createDominio(dominio) {\n        return this.client.postDominio(dominio);\n    }\n\n    static createActividad(actividad) {\n        return this.client.postActividad(actividad);\n    }\n\n    static createTarea(tarea) {\n        return this.client.postTarea(tarea);\n    }\n\n    static addExtraToTarea(extra, tarea) {\n        return this.client.postExtraToTarea(extra, tarea)\n    }\n\n    static addPlanoToTarea(plano, tarea) {\n        return this.client.postFilePlanoToTarea(plano, tarea)\n    }\n\n    static setTareasToActividad(tarea, actividad) {\n        return this.client.putTareasToActividad(tarea, actividad);\n    }\n\n    static setPlanificacionInActividad(planificacion, actividad) {\n        return this.client.putPlanificacionToActividad(planificacion, actividad);\n    }\n\n    static deleteSaltosFromActividad(actividad) {\n        return this.client.deleteSaltosFromActividad(actividad);\n    }\n\n    static deleteTareasFromActividad(actividad) {\n        return this.client.deleteTareasFromActividad(actividad);\n    }\n}\n","import React from \"react\";\nimport queryString from 'query-string'\nimport Login from \"./Login\";\nimport tokenManager from \"../../tokenManager\";\nimport { apiUserFound } from \"../../redux/actions\";\n\nclass LoginContainer extends React.Component {\n  constructor() {\n    super();\n    this.onLoginButtonClick = this.onLoginButtonClick.bind(this);\n  }\n\n  async onLoginButtonClick(event) {\n    event.preventDefault();\n    const auth = await tokenManager.fetchAuth(1234);\n    this.props.dispatch(apiUserFound(auth));\n    tokenManager.storeApiUser(auth.token);\n    this.props.history.push(\"/\")\n    //userManager.signinRedirect();\n  }\n\n  error() {\n    const values = queryString.parse(this.props.location.search)\n    return Object.keys(values).indexOf(\"error\") !== -1\n  }\n\n  render() {\n    return (\n      <Login onClick={this.onLoginButtonClick} error={this.error()} />\n    );\n  }\n}\n\nexport default LoginContainer;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport LoadSpinner from \"../UI/LoadSpinner\";\nimport LoginContainer from \"./LoginContainer\";\n\nfunction mapStateToProps(state) {\n    return {\n        token: state.auth.token,\n        oidc: state.auth\n    }\n}\nexport default (WrappedComponent) => {\n    return connect(mapStateToProps)((props) =>\n        props.token.isLoading || props.oidc.isLoading ?\n            <LoadSpinner /> \n            :\n            props.token.accessToken ?\n                < WrappedComponent {...props} />\n                :\n                <LoginContainer {...props} />\n    )\n}","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Unauthorized from \"./Unauthorized\";\nimport loggedIn from \"./loggedIn\";\n\nfunction mapStateToProps(state) {\n  return {\n    roles: state.auth.roles,\n    isLoading: state.auth.isLoading\n  };\n}\n\nfunction isAllowed(roles, allowedRoles) {\n  let allowed = false;\n  roles.forEach(role => {\n    if(allowedRoles.includes(role)) {\n      allowed = true;\n      return;\n    }\n  });\n  return allowed;\n}\n\nexport default allowedRoles => WrappedComponent => {\n  return loggedIn(connect(mapStateToProps)((props) =>\n    props.isLoading ? <span>Cargando...</span> :\n      isAllowed(props.roles, allowedRoles) ? <WrappedComponent {...props} /> : <Unauthorized />\n  ));\n};\n","import { createBrowserHistory } from \"history\";\nexport default createBrowserHistory();","import React from 'react';\nimport { Navbar, Nav } from 'react-bootstrap'\nimport { Button } from 'react-bootstrap';\n\nfunction Menu(props) {\n    return (\n        <Navbar bg=\"light\" expand=\"lg\">\n            <Navbar.Brand href=\"/\">Autores Demo</Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n                <Nav className=\"mr-auto\">\n                    <Nav.Link href=\"/\">Home</Nav.Link>\n                    <Nav.Link href=\"#/actividad/15\">Agregar tareas</Nav.Link>\n                    <Nav.Link href=\"#/actividad/15/planificacion\">Editar planificación</Nav.Link>\n                </Nav>\n            </Navbar.Collapse>\n            <Navbar.Collapse className=\"justify-content-end\">\n                {(props.token.accessToken) ?\n                    <Button onClick={props.onClickCerrarSesion} data-cy={\"cerrarSesionButton\"}>Cerrar sesión</Button>\n                    :\n                    <></>\n                    // <Button onClick={props.onClickIniciarSesion} variant={\"outline-dark\"} data-cy={\"iniciarSesionButton\"} role=\"button\" style={{ textTransform: \"none\" }}>\n                    //     <img width=\"20px\" style={{ marginBotton: \"3px\", marginRight: \"5px\" }} alt=\"Google sign-in\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png\" />\n                    //     Iniciar sesión con Google\n                    // </Button>\n                }\n            </Navbar.Collapse>\n        </Navbar>\n    )\n}\n\nexport default Menu;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport userManager from '../../userManager';\nimport tokenManager from '../../tokenManager';\nimport history from '../../history'\nimport { apiUserLoggedOut } from '../../redux/actions';\nimport Menu from './Menu';\n\n\nclass MenuContainer extends Component {\n    constructor(props) {\n        super(props);\n        this.onClickCerrarSesion = this.onClickCerrarSesion.bind(this);\n    }\n\n    onClickCerrarSesion(event) {\n        event.preventDefault();\n        userManager.removeUser();\n        tokenManager.removeApiUser();\n        this.props.dispatch(apiUserLoggedOut());\n        history.push(\"/\");\n    }\n\n    onClickIniciarSesion(event) {\n        event.preventDefault();\n        userManager.signinRedirect();\n    }\n\n    render() {\n        return (\n            <Menu token={this.props.token} onClickCerrarSesion={this.onClickCerrarSesion} onClickIniciarSesion={this.onClickIniciarSesion} />\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.oidc.user,\n        token: state.auth.token\n    }\n}\n\nexport default connect(mapStateToProps)(MenuContainer);","import React from 'react';\n\nfunction Homepage({ user }) {\n    return <div>\n        <div>\n            Bienvenido, {user.nombre} {user.apellido}!\n        </div>\n    </div>\n}\n\nexport default Homepage;","import React from 'react';\nimport { connect } from 'react-redux';\nimport Homepage from './Homepage';\n\nfunction HomepageContainer({ user }) {\n    return <Homepage user={user} />\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.auth.user\n    }\n}\nexport default connect(mapStateToProps)(HomepageContainer);","import React from 'react';\nimport HomepageContainer from '../../components/Main/HomepageContainer';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nconst Homepage = ({ match: { params } }) => {\n    return (\n        <Container>\n            <Row>\n                <Col>\n                    <h2>\n                        Página principal\n                    </h2>\n                </Col>\n            </Row>\n            <Row>\n                <Col style={{ border: \"1px solid black\", padding: \"2em\" }}>\n                    <HomepageContainer />\n                </Col>\n            </Row>\n        </Container >\n    )\n}\n\nexport default Homepage;","import React from \"react\";\nimport { CallbackComponent } from \"redux-oidc\";\nimport LoadSpinner from \"../UI/LoadSpinner\";\n\nconst Callback = (props) => {\n    return (\n        <CallbackComponent\n            userManager={props.userManager}\n            successCallback={props.successCallback}\n            errorCallback={props.errorCallback}\n        >\n            <LoadSpinner />\n        </CallbackComponent>\n    );\n}\n\nexport default Callback;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { userSignedOut } from \"redux-oidc\";\nimport userManager from \"../../userManager\";\nimport { apiUserFound, loadingApiUser, apiUserLoggedOut } from \"../../redux/actions\";\nimport tokenManager from \"../../tokenManager\";\n\nimport Callback from \"./Callback\";\n\nclass CallbackContainer extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.onSuccess = this.onSuccess.bind(this);\n    }\n\n    async onSuccess() {\n        this.props.dispatch(loadingApiUser());\n        const auth = await tokenManager.fetchAuth(this.props.user.id_token);\n        if (!auth) {\n            this.props.dispatch(userSignedOut());\n            this.props.dispatch(apiUserLoggedOut())\n            this.props.history.push(\"/?error\")\n        } else {\n            this.props.dispatch(apiUserFound(auth));\n            tokenManager.storeApiUser(auth.token);\n            this.props.history.push(\"/\")\n        }\n    }\n\n    onError = (error) => {\n        this.props.history.push(\"/\");\n        console.error(error);\n    }\n    render() {\n        return (\n            <Callback\n                userManager={userManager}\n                successCallback={this.onSuccess}\n                errorCallback={this.onError}\n            />\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.oidc.user\n    }\n}\nexport default connect(mapStateToProps)(CallbackContainer);","import React from 'react';\nimport CallbackContainer from '../../components/Main/CallbackContainer';\n\nconst Callback = ({ match: { params }, history }) => {\n    return <CallbackContainer history={history}/>\n}\n\nexport default Callback;","import React from 'react';\nimport { Form, Row, Col } from 'react-bootstrap';\n\nfunction Input(props) {\n    return (\n        <div>\n            {\n                props.horizontal ?\n                    <Form.Group as={Row} controlId={props.controlId}>\n                        <Form.Label column sm={3}>\n                            {props.label}\n                        </Form.Label>\n                        <Col sm={9}>\n                            <Form.Control type={props.type}\n                                placeholder={props.placeholder}\n                                onChange={props.onChange}\n                                onKeyPress={props.onKeyPress}\n                                name={props.name}\n                                value={props.value}\n                                disabled={props.disabled}\n                                onBlur={props.onBlur}\n                            />\n                        </Col>\n                    </Form.Group>\n                    :\n                    <Form.Group controlId={props.controlId}>\n                        { props.label &&\n                            <Form.Label>{props.label}</Form.Label>\n                        }\n                        <Form.Control type={props.type}\n                            placeholder={props.placeholder}\n                            onChange={props.onChange}\n                            onKeyPress={props.onKeyPress}\n                            name={props.name}\n                            value={props.value}\n                            disabled={props.disabled}\n                            onBlur={props.onBlur}\n                        //className=\"form-input\"\n                        />\n                    </Form.Group>\n            }\n        </div>\n    )\n}\n\nexport default Input;","import React from 'react';\nimport { Row, Col, InputGroup, FormControl, Button, Form } from 'react-bootstrap';\nimport LoadSpinner from '../UI/LoadSpinner';\n\nconst FormDominio = (props) => {\n    return (\n        <Col>\n            <Row>\n                <Col>\n                    <InputGroup className=\"mb-3\">\n                        <FormControl type=\"text\" value={props.dominio} placeholder=\"Nuevo dominio\" id=\"formNewDominio\"\n                        onChange={props.onChange} onKeyPress={props.onKeyPress} />\n                        <InputGroup.Append>\n                            {props.isLoading ?\n                                <LoadSpinner />\n                                :\n                                <Button variant=\"success\" disabled={props.dominio === \"\"} type=\"button\" onClick={props.onClick}>\n                                    Agregar\n                                </Button>\n                            }\n                        </InputGroup.Append>\n                    </InputGroup>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                    {props.error &&\n                        <Form.Text className=\"text-danger\" style={{ marginTop: \"-1em\" }}>\n                            {props.errorMessage}\n                        </Form.Text>\n                    }\n                </Col>\n            </Row>\n        </Col>\n    )\n}\n\nexport default FormDominio;","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { addSelectOption } from '../../redux/actions'\n\nimport tokenManager from '../../tokenManager';\nimport FormDominio from './Form';\n\nclass FormDominioContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dominio: '',\n            errorMessage: '',\n            error: false,\n            isLoading: false\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.onClick = this.onClick.bind(this);\n        this.onKeyPress = this.onKeyPress.bind(this);\n    }\n\n    handleChange(e) {\n        this.setState({\n            dominio: e.target.value\n        })\n    }\n\n    async onClick(e) {\n        e.preventDefault();\n        this.setState({\n            isLoading: true,\n            error: false,\n            errorMessage: ''\n        });\n        const data = await tokenManager.createDominio({\n            \"nombre\": this.state.dominio\n        });\n\n        if (data.error_code) {\n            this.setState({\n                isLoading: false,\n                error: true,\n                errorMessage: data.user_message\n            });\n        } else {\n            this.props.dispatch(addSelectOption(\"dominio\", data));\n            this.setState({\n                dominio: '',\n                isLoading: false,\n                error: false,\n                errorMessage: ''\n            });\n        }\n    }\n\n    onKeyPress(e) {\n        if (e.key === \"Enter\") {\n            if (this.state.dominio !== \"\") {\n                this.onClick(e);\n            }\n        }\n    }\n\n    render() {\n        return (\n            <FormDominio dominio={this.state.dominio} onChange={this.handleChange} onKeyPress={this.onKeyPress}\n                isLoading={this.state.isLoading} onClick={this.onClick} error={this.state.error} errorMessage={this.state.errorMessage}\n            />\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { optionsByAttribute } = state\n\n    return {\n        optionsByAttribute\n    }\n}\n\nexport default connect(mapStateToProps)(FormDominioContainer);\n\n\n\n\n","import React, { Component } from 'react';\nimport { Form } from 'react-bootstrap'\n\nclass Select extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            optionsCache: this.props.options,\n        }\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        if (prevState.optionsCache.length > nextProps.options.length) {\n            if (nextProps.onPropsChangeLess) {\n                nextProps.onPropsChangeLess();\n                document.querySelector(\"#\" + nextProps.controlId).value = \"\";\n            }\n            return {\n                optionsCache: nextProps.options\n            }\n        }\n        if (prevState.optionsCache.length < nextProps.options.length) {\n            if (nextProps.onPropsChangeMore) {\n                let value = 0\n                if(nextProps.value) {\n                    value = nextProps.options[nextProps.options.length - 1][nextProps.value];\n                } else {\n                   value = nextProps.options[nextProps.options.length - 1];\n                }\n                document.querySelector(\"#\" + nextProps.controlId).value = value;\n                nextProps.onPropsChangeMore(value);\n            }\n            return {\n                optionsCache: nextProps.options\n            }\n        }\n        return null\n    }\n\n\n    render() {\n        const { props } = this;\n        return (\n            <Form.Group controlId={props.controlId}>\n                {props.label && <Form.Label>{props.label}</Form.Label>}\n                <Form.Control data-cy={props.dataCy} defaultValue={props.defaultValue} as=\"select\" name={props.name} onChange={props.onChange} disabled={props.disabled}\n                onBlur={props.onBlur}>\n                    {props.placeholder && <option value=\"\" disabled>{props.error? \"No se pudo obtener los elementos\" : props.placeholder}</option>}\n                    {!props.error && props.options.map((item, index) =>\n                        <option value={props.value ? item[props.value] : item} key={index}>{props.field ? item[props.field] : item}</option>\n                    )}\n                </Form.Control>\n            </Form.Group>\n        )\n    }\n}\n\nexport default Select","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { requestOptions, receiveOptions, failAttribute } from '../../redux/actions'\n\nimport Select from './Select';\nimport LoadSpinner from './LoadSpinner';\nimport tokenManager from '../../tokenManager';\n\nclass SelectAPI extends Component {\n\n    componentDidMount() {\n        this.getElements();\n    }\n\n    async getElements() {\n        const { dispatch, optionsByAttribute, attribute, authorized } = this.props\n        if (!optionsByAttribute[attribute]) {\n            try {\n                dispatch(requestOptions(attribute));\n                let data = null;\n                if (authorized) {\n                    data = await tokenManager.authorizedGetRequest(this.props.uri);\n                } else {\n                    data = await tokenManager.publicGetRequest(this.props.uri);\n                }\n                if (data.error_code) {\n                    dispatch(failAttribute(attribute))\n                } else {\n                    dispatch(receiveOptions(attribute, data.results))\n                }\n            } catch (err) {\n                dispatch(failAttribute(attribute))\n                console.error(err);\n            }\n        }\n    }\n\n    render() {\n        const { optionsByAttribute, attribute } = this.props;\n        return (\n            <div>\n                {optionsByAttribute[attribute] && optionsByAttribute[attribute].isFetching &&\n                    <LoadSpinner />\n                }\n                {optionsByAttribute[attribute] && !optionsByAttribute[attribute].isFetching && optionsByAttribute[attribute].items !== [] &&\n                    <Select\n                        error={optionsByAttribute[attribute].error}\n                        controlId={this.props.controlId}\n                        label={this.props.label}\n                        name={this.props.name}\n                        options={optionsByAttribute[attribute].items}\n                        defaultValue={this.props.defaultValue}\n                        value={\"id\"}\n                        field={\"nombre\"}\n                        placeholder={this.props.placeholder}\n                        onPropsChangeMore={this.props.onPropsChangeMore}\n                        onChange={this.props.onChange}\n                        onBlur={this.props.onBlur}\n                    />\n                }\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { optionsByAttribute } = state\n\n    return {\n        optionsByAttribute\n    }\n}\n\nexport default connect(mapStateToProps)(SelectAPI);\n\n","import React from 'react';\nimport { Form, Button, Col, Spinner } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { Formik } from 'formik';\n\nimport Input from '../UI/Input';\nimport FormDominioContainer from '../Dominio/FormContainer';\nimport SelectAPI from '../UI/SelectAPI';\nimport { getRandomSlug } from '../../utils';\n\nconst Actividad = (props) => {\n    return (\n        <Formik\n            initialValues={{\n                nombre: '',\n                objetivo: '',\n                idioma: '',\n                tipoPlanificacion: '',\n                dominio: '',\n                estado: '',\n                codigo: getRandomSlug()\n            }}\n            validator={() => ({})}\n            validate={\n                values => {\n                    const errors = {};\n                    if (!values.nombre) {\n                        errors.nombre = \"Falta nombre\";\n                    }\n                    if (!values.objetivo) {\n                        errors.objetivo = \"Falta objetivo\";\n                    }\n                    if (!values.idioma) {\n                        errors.idioma = \"Falta idioma\";\n                    }\n                    if (!values.tipoPlanificacion) {\n                        errors.tipoPlanificacion = \"Falta tipo de planificación\";\n                    }\n                    if (!values.dominio) {\n                        errors.dominio = \"Falta dominio\";\n                    }\n                    if (!values.estado) {\n                        errors.estado = \"Falta estado\";\n                    }\n                    return errors;\n                }\n            }\n            onSubmit={(values, { setSubmitting }) => {\n                setSubmitting(false);\n                props.onSubmit(values);\n            }}\n        >\n            {({\n                values,\n                errors,\n                touched,\n                handleChange,\n                handleBlur,\n                submitForm,\n                isSubmitting,\n            }) =>\n                (<Form>\n                    <Form.Row>\n                        <Col>\n                            <Input controlId={\"formNombre\"}\n                                label={\"Nombre\"}\n                                name={\"nombre\"}\n                                type={\"text\"}\n                                placeholder={\"Nombre\"}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                                value={values.nombre}\n                            />\n                            {errors.nombre && touched.nombre && errors.nombre &&\n                                <Form.Text className=\"text-danger\" style={{ marginTop: \"-1em\" }}>\n                                    {errors.nombre}\n                                </Form.Text>\n                            }\n                        </Col>\n                        <Col>\n                            <Input controlId={\"formObjetivo\"}\n                                label={\"Objetivo\"}\n                                name={\"objetivo\"}\n                                type={\"text\"}\n                                placeholder={\"Objetivo\"}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                                value={values.objetivo}\n                            />\n                            {errors.objetivo && touched.objetivo && errors.objetivo &&\n                                <Form.Text className=\"text-danger\" style={{ marginTop: \"-1em\" }}>\n                                    {errors.objetivo}\n                                </Form.Text>\n                            }\n                        </Col>\n                    </Form.Row>\n\n                    <Form.Row>\n                        <Col>\n                            <SelectAPI\n                                uri={\"/idiomas\"}\n                                attribute={\"idioma\"}\n                                controlId={\"formIdioma\"}\n                                label={\"Idioma\"}\n                                name={\"idioma\"}\n                                defaultValue={\"\"}\n                                placeholder={\"Elegí un idioma\"}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                            {errors.idioma && touched.idioma && errors.idioma &&\n                                <Form.Text className=\"text-danger\" style={{ marginTop: \"-1em\" }}>\n                                    {errors.idioma}\n                                </Form.Text>\n                            }\n                        </Col>\n                        <Col>\n                            <SelectAPI\n                                uri={'/tipos-planificacion'}\n                                attribute={\"tipo-planificacion\"}\n                                controlId={\"formTipoPlanificacion\"}\n                                label={\"Tipo de planificación\"}\n                                name={\"tipoPlanificacion\"}\n                                defaultValue={\"\"}\n                                placeholder={\"Elegí un tipo\"}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                            {errors.tipoPlanificacion && touched.tipoPlanificacion && errors.tipoPlanificacion &&\n                                <Form.Text className=\"text-danger\" style={{ marginTop: \"-1em\" }}>\n                                    {errors.tipoPlanificacion}\n                                </Form.Text>\n                            }\n                        </Col>\n                    </Form.Row>\n                    <Form.Row>\n                        <Col>\n                            <SelectAPI\n                                uri={'/dominios'}\n                                attribute={\"dominio\"}\n                                controlId={\"formDominio\"}\n                                label={\"Dominio\"}\n                                name={\"dominio\"}\n                                defaultValue={props.dominioDefaultValue}\n                                placeholder={\"Elegí un dominio\"}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                            {errors.dominio && touched.dominio && errors.dominio &&\n                                <Form.Text className=\"text-danger\" style={{ marginTop: \"-1em\" }}>\n                                    {errors.dominio}\n                                </Form.Text>\n                            }\n                        </Col>\n                        <Col>\n                            <SelectAPI\n                                uri={'/estados'}\n                                attribute={\"estado\"}\n                                controlId={\"formEstado\"}\n                                label={\"Estado\"}\n                                name={\"estado\"}\n                                defaultValue={\"\"}\n                                placeholder={\"Elegí un estado\"}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                            {errors.estado && touched.estado && errors.estado &&\n                                <Form.Text className=\"text-danger\" style={{ marginTop: \"-1em\" }}>\n                                    {errors.estado}\n                                </Form.Text>\n                            }\n                        </Col>\n                    </Form.Row>\n                    <Form.Row>\n                        <FormDominioContainer />\n                        <Col></Col>\n                    </Form.Row>\n                    {props.error &&\n                        <Form.Text className=\"text-danger\" style={{ marginTop: \"-1em\" }}>\n                            {props.errorMessage}\n                        </Form.Text>\n                    }\n                    {props.isLoading ?\n                        <Button variant=\"info\" disabled>\n                            <Spinner\n                                as=\"span\"\n                                animation=\"border\"\n                                size=\"sm\"\n                                role=\"status\"\n                                aria-hidden=\"true\"\n                            />\n                            Cargando...\n                    </Button>\n                        :\n                        props.success ?\n                            <Link to={\"/actividad/\" + props.actividadId}>\n                                <Button variant=\"primary\" type=\"button\" >Continuar</Button>\n                            </Link>\n                            :\n                            <Button variant=\"info\" onClick={submitForm} disabled={isSubmitting}>\n                                Guardar\n                        </Button>\n                    }\n                </Form>)}\n        </Formik>\n    )\n}\n\nexport default Actividad;","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { setCurrentActividad } from '../../redux/actions'\n\nimport tokenManager from '../../tokenManager';\n\nimport ActividadForm from './Form';\n\nclass ActividadFormContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isLoading: false,\n            success: false,\n            error: false,\n            errorMessage: \"\"\n        }\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    }\n\n    async handleFormSubmit(values) {\n        const { nombre, objetivo, idioma, tipoPlanificacion, dominio, estado, codigo } = values;\n        this.setState({\n            isLoading: true,\n            error: false,\n            errorMessage: ''\n        });\n        const actividad = await tokenManager.createActividad({\n            \"nombre\": nombre,\n            \"objetivo\": objetivo,\n            \"codigo\": codigo,\n            \"dominio\": dominio,\n            \"idioma\": idioma,\n            \"tipoPlanificacion\": tipoPlanificacion,\n            \"estado\": estado\n        })\n        if (actividad.error_code) {\n            this.setState({\n                isLoading: false,\n                error: true,\n                errorMessage: actividad.user_message\n            });\n            return\n        }\n\n        this.setState({\n            success: true,\n            isLoading: false,\n            error: false,\n            errorMessage: ''\n        });\n        this.props.dispatch(setCurrentActividad(actividad));\n    }\n\n    render() {\n        return (\n            <ActividadForm onChange={this.handleInput} dominioDefaultValue={this.props.currentDominioId}\n                error={this.state.error} errorMessage={this.state.errorMessage}\n                isLoading={this.state.isLoading} success={this.state.success} actividadId={this.props.currentActividad.id}\n                onSubmit={this.handleFormSubmit}\n            />\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { actividad } = state\n    const { currentActividad, currentDominioId } = actividad\n    return {\n        currentActividad,\n        currentDominioId\n    }\n}\n\nexport default connect(mapStateToProps)(ActividadFormContainer);","import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport ActividadFormContainer from '../../components/Actividad/FormContainer';\n\nconst ActividadForm = ({ match: { params } }) => {\n    return (\n        <Container>\n            <Row>\n                <Col>\n                    <h2>\n                        {!params.id ? \"Crear\" : \"Editar\"} actividad\n                    </h2>\n                </Col>\n            </Row>\n            <Row>\n                <Col style={{ border: \"1px solid black\", padding: \"2em\" }}>\n                    <ActividadFormContainer />\n                </Col>\n            </Row>\n        </Container >\n    )\n}\n\nexport default ActividadForm;","import React from 'react';\nimport { Row, Col, FormControl } from 'react-bootstrap';\n\nimport Input from '../../UI/Input';\nimport Select from '../../UI/Select';\nimport SelectAPI from '../../UI/SelectAPI';\n\nfunction getCriteria() {\n    return [\n        { id: \"1\", nombre: \"Por autor\" },\n        { id: \"2\", nombre: \"Por nombre\" },\n        { id: \"3\", nombre: \"Por dominio\" }\n    ];\n}\n\nfunction searchBox(criterionId) {\n    switch (criterionId) {\n        case \"1\":\n            return (\n                <Input\n                    type={\"text\"}\n                    placeholder={\"Autor\"}\n                    // onChange={this.handleInput} \n                    />\n            );\n        case \"2\":\n            return (\n                <Input\n                    type={\"text\"}\n                    placeholder={\"Nombre\"}\n                    // onChange={this.handleInput} \n                    />\n            );\n        case \"3\":\n            return (\n                <SelectAPI\n                    uri={'/dominios'}\n                    attribute={\"dominio\"}\n                    controlId={\"formDominio\"}\n                    name={\"dominio\"}\n                    defaultValue={\"\"}\n                    placeholder={\"Elegí un dominio\"}\n\n                />\n            )\n        default:\n            return (\n                <FormControl type=\"text\" placeholder=\"Elegí un criterio primero\" disabled />\n            );\n    }\n}\n\nconst TareaSearch = (props) => {\n    return (\n        <div>\n            <h3>Buscar Tarea</h3>\n            <Row>\n                <Col>\n                    <Select\n                        controlId={\"searchCriteria\"}\n                        name={\"searchCriteria\"}\n                        options={getCriteria()}\n                        defaultValue={\"\"}\n                        value={\"id\"}\n                        field={\"nombre\"}\n                        placeholder={\"Elegí un criterio\"}\n                        onChange={props.onChange} />\n                </Col>\n                <Col>\n                    {searchBox(props.criterionId)}\n                </Col>\n            </Row>\n        </div>\n    )\n}\n\nexport default TareaSearch;","import React, { Component } from 'react';\n\nimport TareaSearch from './Search';\n\nclass TareaSearchContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            criterionId: \"\"\n        }\n    }\n\n    onChange = (e) => {\n        this.setState({\n            criterionId: e.target.value\n        })\n    }\n\n    render() {\n        return <TareaSearch onChange={this.onChange} criterionId={this.state.criterionId}/>\n    }\n}\n\nexport default TareaSearchContainer;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Row, Col } from 'react-bootstrap';\nimport SelectAPI from '../../UI/SelectAPI';\n\nconst AddTareasSelectTarea = (props) => {\n    return (\n        <>\n            <h2>Mis tareas{\" \"}\n                <Link to={\"/actividad/\" + props.actividadId + \"/nuevaTarea\"} >\n                    <Button variant=\"success\" type=\"button\">Nueva</Button>\n                </Link>\n            </h2>\n            <Row>\n                <Col>\n                    <SelectAPI\n                        uri={'/tareas/user'}\n                        authorized\n                        attribute={\"tarea\"}\n                        controlId={\"formTarea\"}\n                        label={\"\"}\n                        name={\"tarea\"}\n                        defaultValue={\"\"}\n                        placeholder={\"Elegí una tarea\"}\n                        onChange={props.onChange}\n                    />\n                </Col>\n                <Col sm={2}>\n                    <span>\n                        <Button className=\"float-left\" variant=\"info\" type=\"button\"\n                            onClick={props.onClick} disabled={props.selectedTarea.id === \"\" || props.disabled} >\n                            Agregar\n                            </Button>\n                    </span>\n                </Col>\n                <Col>Consigna:<br />{props.selectedTarea && <span>{props.selectedTarea.consigna}</span>}</Col>\n            </Row>\n        </>\n    )\n}\n\nexport default AddTareasSelectTarea;","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { addTarea } from '../../../redux/actions'\n\nimport tokenManager from '../../../tokenManager';\nimport AddTareasSelectTarea from './SelectTarea';\n\nclass AddTareasSelectTareaContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedTarea: {\n                nombre: \"\",\n                id: \"\"\n            },\n            tareasCache: {}\n        }\n        this.onClick = this.onClick.bind(this);\n        this.onChange = this.onChange.bind(this);\n    }\n\n    async onChange(e) {\n        let tarea = this.state.tareasCache[e.target.value];\n        if (tarea) {\n            this.setState({\n                selectedTarea: tarea\n            })\n        } else {\n            tarea = await tokenManager.getTarea(e.target.value);\n            if (!tarea.error_code) {\n                const tareasCache = this.state.tareasCache;\n                tareasCache[tarea.id] = tarea;\n                this.setState({\n                    selectedTarea: tarea,\n                    tareasCache\n                })\n            }\n\n        }\n    }\n\n    onClick(e) {\n        if (this.state.selectedTarea.id !== \"\") {\n            this.props.dispatch(addTarea(this.state.selectedTarea));\n        }\n    }\n\n    render() {\n        return (\n            <AddTareasSelectTarea actividadId={this.props.actividadId} onChange={this.onChange} onClick={this.onClick}\n                selectedTarea={this.state.selectedTarea} disabled={this.state.selectedTarea.id === \"\" || (this.props.clone ? this.props.disabled : false)} />\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { currentActividad } = state.actividad\n    return {\n        currentActividad\n    }\n}\n\nexport default connect(mapStateToProps)(AddTareasSelectTareaContainer);","import React, { Component } from 'react';\n\nclass PendingTareasListContainer extends Component {\n    render() {\n        return (\n            <ul>\n                {this.props.remainingTareas.map(\n                    (item, index) => <li key={index}>Reemplazar la tarea \"{item.nombre}\"</li>)\n                }\n            </ul>\n        )\n    }\n}\n\nexport default PendingTareasListContainer;","import React from 'react';\nimport { FormGroup } from 'react-bootstrap'\nimport FormCheckInput from 'react-bootstrap/FormCheckInput';\nimport FormCheckLabel from 'react-bootstrap/FormCheckLabel';\n\nfunction CheckboxGroup(props) {\n    return (\n        <>\n            {props.label && <p><i>{props.label}</i></p>}\n            {\n                props.items.map(item =>\n                    <FormGroup style={{ marginLeft: \"1em\" }} key={(props.value ? item[props.value] : item) + '-' + props.group}>\n                        <FormCheckLabel>\n                            <FormCheckInput type={\"checkbox\"} onChange={props.onChange} name={(props.value ? item[props.value] : item) + '-' + props.group} />\n                            {props.field ? item[props.field] : item}\n                        </FormCheckLabel>\n                    </FormGroup>\n                )\n            }\n        </>\n    )\n}\n\nexport default CheckboxGroup;","import React from 'react';\nimport { ListGroup, Col, Form, Row, Button } from 'react-bootstrap';\n\nimport Select from './Select'\nimport CheckboxGroup from './CheckboxGroup';\n\nfunction ActionList(props) {\n    return (\n        <ListGroup data-cy={props.dataCy}>\n            {\n                props.items.map((item) =>\n                    <ListGroup.Item key={(props.value ? item[props.value] : item) + (props.group ? \"-\" + props.group : \"\")}>\n                        {props.input ?\n                            <Form.Group as={Row} controlId={(props.value ? item[props.value] : item) + (props.group ? \"-\" + props.group : \"\")}>\n                                <Form.Label column sm={3}>\n                                    {props.field ? item[props.field] : item}\n                                </Form.Label>\n                                <Col sm={9}>\n                                    <Form.Control type={props.input.type} placeholder={props.input.placeholder}\n                                        onChange={props.input.onChange} name={(props.value ? item[props.value] : item) + (props.group ? \"-\" + props.group : \"\")}\n                                    />\n                                </Col>\n                            </Form.Group>\n                            :\n                            props.field ? item[props.field] : item}\n                        {\n                            props.select &&\n                            <Select options={props.select.options} field={props.select.field}\n                                placeholder={props.select.placeholder} defaultValue={props.select.defaultValue}\n                                name={(props.value ? item[props.value] : item)} onChange={props.select.onChange}\n                            />\n                        }\n                        {\n                            props.checkboxGroup &&\n                            <CheckboxGroup items={props.checkboxGroup.items} onChange={props.checkboxGroup.onChange}\n                                field={props.checkboxGroup.field} value={props.checkboxGroup.value} label={props.checkboxGroup.label} group={(props.value ? item[props.value] : item)} />\n                        }\n                        {props.action &&\n                            < Button variant=\"danger\" type=\"button\" className=\"float-right\"\n                                onClick={() => props.onClick(item, props.group)} data-cy={\"quitar_\" + (props.group? props.group + \"_\" : \"\") + (item.id || item.name || item)}>\n                                Quitar\n                            </Button>\n                        }\n                    </ListGroup.Item>\n                )\n            }\n        </ListGroup >\n    )\n}\n\nexport default ActionList;\n\n","import React from 'react';\nimport ActionList from '../../UI/ActionList';\n\n\nconst AddTareasActionList = (props) => {\n    return (\n        <div>\n            <h3>Tareas de la actividad {props.clone && `(${props.remainingTareas.length} más)`}</h3>\n            <ActionList items={props.chosenTareas} action={true} onClick={props.onClick} field={\"nombre\"} value={\"id\"} />\n        </div>\n    )\n}\n\nexport default AddTareasActionList;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport AddTareasActionList from './TareasActionList';\nimport { unchooseTarea } from '../../../redux/actions';\n\nclass AddTareasActionListContainer extends Component {\n\n    onClick = (item) => {\n        this.props.dispatch(unchooseTarea(item.id));\n    }\n\n    render() {\n        const clonedTareas = this.props.clonedTareas;\n        let tareas = [];\n        if(this.props.clone) {\n            tareas = this.props.chosenTareas.map(\n                (tarea, index) => {\n                    return {\n                        ...tarea,\n                        nombre: `Reemplazando a la tarea ${clonedTareas[index].nombre}: ${tarea.nombre}`\n                    }\n                })\n        } else {\n            tareas = this.props.chosenTareas;\n        }\n        return <AddTareasActionList clone={this.props.clone} remainingTareas={this.props.remainingTareas} chosenTareas={tareas} onClick={this.onClick} />\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { actividadTareas } = state\n    const { chosenTareas } = actividadTareas;\n\n    return {\n        chosenTareas\n    }\n}\n\nexport default connect(mapStateToProps)(AddTareasActionListContainer);","import React from 'react';\nimport { Button, Spinner, Form } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nconst AddTareasButton = (props) => {\n    return (\n        <>\n            {props.error &&\n                <Form.Text className=\"text-danger\">\n                    {props.errorMessage}\n                </Form.Text>\n            }\n            {\n                props.isLoading ?\n                    <Button variant=\"info\" disabled>\n                        <Spinner\n                            as=\"span\"\n                            animation=\"border\"\n                            size=\"sm\"\n                            role=\"status\"\n                            aria-hidden=\"true\"\n                        />\n                        Cargando...\n                    </Button>\n                    :\n                    props.success ?\n                        <Link to={\"/actividad/\" + props.actividadId + \"/planificacion\"}>\n                            <Button variant=\"primary\" type=\"button\" style={{ marginTop: \"1em\" }}>Continuar</Button>\n                        </Link>\n                        :\n                        <Button variant=\"info\" type=\"button\" disabled={props.success} onClick={props.onSubmit}>\n                            Guardar\n                        </Button>\n            }\n        </>\n\n    )\n}\n\nexport default AddTareasButton;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport tokenManager from '../../../tokenManager';\nimport AddTareasButton from './Button';\n\nclass AddTareasButtonContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isLoading: false,\n            success: false,\n            error: false,\n            errorMessage: \"\"\n        }\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    }\n\n    async setTareasToActividad(id, tareasIds) {\n        this.setState({\n            isLoading: true\n        })\n        const data = await tokenManager.setTareasToActividad({\n            \"tareas\": tareasIds\n        }, id)\n        if (data.error_code) {\n            this.setState({\n                error: true,\n                errorMessage: data.user_message,\n                success: false,\n                isLoading: false\n            })\n            return;\n        } else {\n            this.setState({ success: true, isLoading: false });\n        }\n    }\n\n    async handleFormSubmit() {\n        const id = this.props.actividadId;\n        const tareasIds = this.props.chosenTareas.map(tarea => tarea.id);\n        if(tareasIds.length === 0) {\n            this.setState({\n                error: true,\n                errorMessage: \"No se eligieron tareas\"\n            });\n            return;\n        }\n        this.setTareasToActividad(id, tareasIds);\n    }\n\n    render() {\n        return (\n            <AddTareasButton isLoading={this.state.isLoading} success={this.state.success} actividadId={this.props.actividadId}\n                onSubmit={this.handleFormSubmit} error={this.state.error} errorMessage={this.state.errorMessage}\n            />\n        )\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    const { chosenTareas } = state.actividadTareas;\n    return {\n        chosenTareas\n    }\n}\nexport default connect(mapStateToProps)(AddTareasButtonContainer);","import * as React from 'react';\n\nexport const NODE_KEY = 'id'; // Key used to identify nodes\n\n// These keys are arbitrary (but must match the config)\n// However, GraphView renders text differently for empty types\n// so this has to be passed in if that behavior is desired.\nexport const EMPTY_TYPE = 'customEmpty'; // Empty node type\nexport const OPTIONAL_EMPTY_TYPE = 'optionalEmpty'\nexport const END_TYPE = 'end';\nexport const OPTIONAL_END_TYPE = 'optionalEnd';\nexport const START_TYPE = 'start';\nexport const OPTIONAL_START_TYPE = 'optionalStart';\nexport const EMPTY_EDGE_TYPE = 'emptyEdge';\nexport const SQUARE_EDGE_TYPE = 'squareEdge';\n\nexport const nodeTypes = [EMPTY_TYPE, OPTIONAL_EMPTY_TYPE, END_TYPE, OPTIONAL_END_TYPE, START_TYPE, OPTIONAL_START_TYPE ];\nexport const edgeTypes = [EMPTY_EDGE_TYPE, SQUARE_EDGE_TYPE];\n\nconst EmptyNodeShape = (\n  <symbol viewBox=\"0 0 154 154\" width=\"154\" height=\"154\" id=\"emptyNode\">\n    <circle cx=\"77\" cy=\"77\" r=\"56\" />\n  </symbol>\n);\n\nconst OptionalEmptyNodeShape = (\n  <symbol viewBox=\"0 0 154 154\" width=\"154\" height=\"154\" id=\"optionalEmptyNode\" fill=\"#ebebe0\" >\n    <circle cx=\"77\" cy=\"77\" r=\"56\" />\n  </symbol>\n);\n\nconst StartShape = (\n  <symbol viewBox=\"0 0 160 160\" width=\"160\" height=\"160\" id=\"start\">\n    <circle cx=\"77\" cy=\"77\" r=\"56\" stroke=\"green\" strokeWidth=\"3px\" />\n  </symbol>\n);\n\nconst OptionalStartShape = (\n  <symbol viewBox=\"0 0 160 160\" width=\"160\" height=\"160\" id=\"optionalStart\">\n    <circle cx=\"77\" cy=\"77\" r=\"56\" stroke=\"green\" strokeWidth=\"3px\" fill=\"#ebebe0\" />\n  </symbol>\n)\n\n//triggerShape\n// const OptionalTriggerShape = (\n//   <symbol viewBox=\"0 0 160 160\" width=\"160\" height=\"160\" id=\"start\">\n//     <circle cx=\"77\" cy=\"77\" r=\"56\" stroke=\"green\" strokeWidth=\"3px\" fill=\"#ebebe0\" />\n//     <path fill=\"orange\" d=\"m 105,85 12.23866,0.0477 -10.89815,12.91207 12.63192,0.0395 -34.4828,25.47706 15.35055,-19.99263 -11.04267,-0.0851 z\" />\n//   </symbol>\n// );\n\nconst EndShape = (\n  <symbol viewBox=\"0 0 160 160\" width=\"160\" height=\"160\" id=\"end\">\n    <circle cx=\"77\" cy=\"77\" r=\"56\" stroke=\"red\" strokeWidth=\"3px\" />\n  </symbol>\n);\n\nconst OptionalEndShape = (\n  <symbol viewBox=\"0 0 160 160\" width=\"160\" height=\"160\" id=\"optionalEnd\" fill=\"#ebebe0\">\n    <circle cx=\"77\" cy=\"77\" r=\"56\" stroke=\"red\" strokeWidth=\"3px\" />\n  </symbol>\n);\n\nconst EmptyEdgeShape = (\n  <symbol viewBox=\"0 0 50 50\" id=\"emptyEdge\">\n    <circle cx=\"25\" cy=\"25\" r=\"8\" fill=\"currentColor\" />\n  </symbol>\n);\n\nconst SquareEdgeShape = (\n  <symbol viewBox=\"0 0 50 50\" id=\"squareEdge\">\n    <rect x=\"10\" y=\"17\" width=\"15\" height=\"15\" fill=\"currentColor\"/>\n  </symbol>\n)\n\nexport default {\n  EdgeTypes: {\n    emptyEdge: {\n      shape: EmptyEdgeShape,\n      shapeId: '#emptyEdge',\n    },\n    squareEdge: {\n      shape: SquareEdgeShape,\n      shapeId: \"#squareEdge\"\n    }\n  },\n  NodeSubtypes: {\n  },\n  NodeTypes: {\n    emptyNode: {\n      shape: EmptyNodeShape,\n      shapeId: '#emptyNode',\n      typeText: 'Tarea',\n    },\n    optionalEmptyNode: {\n      shape: OptionalEmptyNodeShape,\n      shapeId: '#optionalEmptyNode',\n      typeText: 'Tarea'\n    },\n    start: {\n      shape: StartShape,\n      shapeId: '#start',\n      typeText: 'Inicio',\n    },\n    optionalStart: {\n      shape: OptionalStartShape,\n      shapeId: '#optionalStart',\n      typeText: 'Inicio',\n    },\n    end: {\n      shape: EndShape,\n      shapeId: '#end',\n      typeText: 'Fin',\n    },\n    optionalEnd: {\n      shape: OptionalEndShape,\n      shapeId: '#optionalEnd',\n      typeText: 'Fin',\n    }\n  },\n};\n","import * as React from 'react';\n\nimport { GraphView } from 'react-digraph';\n\nimport GraphConfig, {\n  EMPTY_EDGE_TYPE,\n  EMPTY_TYPE,\n  OPTIONAL_EMPTY_TYPE,\n  START_TYPE,\n  OPTIONAL_START_TYPE,\n  END_TYPE,\n  OPTIONAL_END_TYPE,\n  SQUARE_EDGE_TYPE,\n  NODE_KEY,\n} from '../../graph-config'; // Configures node/edge types\n\nfunction getGraph(tareas) {\n  const nodes = tareas.map((tarea, index) => {\n    return {\n      id: tarea.id,\n      title: tarea.graphId,\n      optional: tarea.optional,\n      initial: tarea.initial,\n      type: tarea.optional ? OPTIONAL_START_TYPE : START_TYPE\n    }\n  })\n  return {\n    edges: [],\n    nodes: nodes\n  }\n}\n\nfunction getNodesWithTypeUpdated(nodes, edges) {\n  const neighbours = edges.map(edge => edge.target);\n  const sources = edges.map(edge => edge.source);\n  const newNodes = nodes.map(node => {\n    if (!neighbours.includes(node.id)) {\n      return {\n        ...node,\n        type: node.optional ? OPTIONAL_START_TYPE : START_TYPE\n      };\n    }\n    else if (!sources.includes(node.id)) {\n      return {\n        ...node,\n        type: node.optional ? (node.initial ? OPTIONAL_START_TYPE : OPTIONAL_END_TYPE) :\n          (node.initial ? START_TYPE : END_TYPE)\n      };\n    }\n    else {\n      return {\n        ...node,\n        type: node.optional ? (node.initial ? OPTIONAL_START_TYPE : OPTIONAL_EMPTY_TYPE)\n          : (node.initial ? START_TYPE : EMPTY_TYPE)\n      }\n    }\n  });\n  return newNodes;\n}\n\nclass Graph extends React.Component {\n  GraphView;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      layoutEngineType: \"HorizontalTree\",\n      selected: null,\n      graph: { nodes: [], edges: [] }\n    };\n\n    this.GraphView = React.createRef();\n  }\n\n  // Helper to find the index of a given node\n  getNodeIndex(searchNode) {\n    return this.state.graph.nodes.findIndex(node => {\n      return node[NODE_KEY] === searchNode[NODE_KEY];\n    });\n  }\n\n  // Helper to find the index of a given edge\n  getEdgeIndex(searchEdge) {\n    return this.state.graph.edges.findIndex(edge => {\n      return (\n        edge.source === searchEdge.source && edge.target === searchEdge.target\n      );\n    });\n  }\n\n  // Given a nodeKey, return the corresponding node\n  getViewNode(nodeKey) {\n    const searchNode = {};\n\n    searchNode[NODE_KEY] = nodeKey;\n    const i = this.getNodeIndex(searchNode);\n\n    return this.state.graph.nodes[i];\n  }\n\n  /*\n   * Handlers/Interaction\n   */\n\n  // Called by 'drag' handler, etc..\n  // to sync updates from D3 with the graph\n  onUpdateNode = () => { };\n\n  // Node 'mouseUp' handler\n  onSelectNode = (viewNode) => {\n    if (viewNode != null) {\n      this.props.onClickNode(viewNode.id);\n    }\n  };\n\n  // Edge 'mouseUp' handler\n  onSelectEdge = (viewEdge) => {\n    if (viewEdge != null) {\n      this.props.onClickEdge(viewEdge.id);\n    }\n  };\n\n  // Updates the graph with a new node\n  onCreateNode = () => { };\n\n  // Deletes a node from the graph\n  onDeleteNode = () => { };\n\n  onConnect = () => { }\n\n  // Creates a new node between two edges\n  onCreateEdge = () => { };\n\n  // Called when an edge is reattached to a different target.\n  onSwapEdge = () => { };\n\n  // Called when an edge is deleted\n  onDeleteEdge = () => { };\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { tareas, conexiones } = nextProps;\n    const prevNodes = prevState.graph.nodes;\n    const prevEdges = prevState.graph.edges;\n    if ((tareas.filter(tarea => tarea.optional)).length !== prevNodes.filter(node => node.optional) ||\n      (tareas.length !== prevNodes.length) || (conexiones.length !== prevEdges.length)) {\n      const newGraph = getGraph(tareas);\n      let newNodes = newGraph.nodes.map(node => {\n        const nodeIndex = prevNodes.findIndex(prevNode => node[NODE_KEY] === prevNode[NODE_KEY]);\n        if (nodeIndex === -1) {\n          //check for better positioning\n          return {\n            ...node,\n            x: -50,\n            y: 100 + 150 * (node.title - 1)\n          }\n        } else {\n          return {\n            ...prevNodes[nodeIndex],\n            optional: node.optional,\n            initial: node.initial,\n            x: -50,\n            y: 100 + 150 * (node.title - 1)\n          }\n        }\n      })\n      const newEdges = conexiones.map(conexion => {\n        return {\n          source: conexion.origen,\n          target: conexion.destino,\n          on: conexion.condicion,\n          answer: conexion.respuesta,\n          type: conexion.condicion ? SQUARE_EDGE_TYPE : EMPTY_EDGE_TYPE,\n          id: conexion.id\n        }\n      })\n      const nodeIds = newNodes.map(node => node[NODE_KEY]);\n\n      //keep only connected edges\n      newGraph.edges = newEdges.filter(edge =>\n        nodeIds.includes(edge.source) && nodeIds.includes(edge.target)\n      )\n      newGraph.nodes = getNodesWithTypeUpdated(newNodes, newGraph.edges);\n\n      return {\n        graph: newGraph\n      }\n    } else {\n      return null\n    }\n  }\n\n  /*\n   * Render\n   */\n\n  render() {\n    const { nodes, edges } = this.state.graph;\n    const selected = this.state.selected;\n    const { NodeTypes, NodeSubtypes, EdgeTypes } = GraphConfig;\n\n    return (\n      <div id=\"graph\" data-cy={this.props.dataCy} style={{ height: \"26em\" }}>\n        <GraphView\n          ref={el => (this.GraphView = el)}\n          nodeKey={NODE_KEY}\n          nodes={nodes}\n          edges={edges}\n          selected={selected}\n          nodeTypes={NodeTypes}\n          nodeSubtypes={NodeSubtypes}\n          edgeTypes={EdgeTypes}\n          onSelectNode={this.onSelectNode}\n          onCreateNode={this.onCreateNode}\n          onUpdateNode={this.onUpdateNode}\n          onDeleteNode={this.onDeleteNode}\n          onSelectEdge={this.onSelectEdge}\n          onCreateEdge={this.onCreateEdge}\n          onSwapEdge={this.onSwapEdge}\n          onDeleteEdge={this.onDeleteEdge} HorizontalTree\n          onUndo={this.onUndo}\n          onCopySelected={this.onCopySelected}\n          onPasteSelected={this.onPasteSelected}\n          layoutEngineType={this.state.layoutEngineType}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Graph;\n","import React, { Component } from 'react';\n\nimport Graph from '../../Planificacion/Graph';\nimport tokenManager from '../../../tokenManager';\nimport { CONDITIONS_ARRAY } from '../../../config';\nimport md5 from 'md5';\n\nclass GraphContainer extends Component {\n    constructor() {\n        super();\n        this.state = {\n            tareas: [],\n            conexiones: [],\n        };\n        this.loadTareas = this.loadTareas.bind(this);\n    }\n    componentDidMount() {\n        this.loadTareas();\n    }\n\n    async loadTareas() {\n        const tareasData = await tokenManager.getTareasForActividad(this.props.actividadId);\n        if(tareasData.error_code) {\n            //set error message\n            return;\n        }\n        const conexiones = [];\n        const planificacion = await tokenManager.getPlanificacionForActividad(this.props.actividadId);\n        if (planificacion.error_code) {\n            this.setState({\n                errors: true,\n                errorMessage: planificacion.user_message\n            })\n            return\n        }\n\n        planificacion.saltos.forEach(salto => {\n            const origen = salto.origen_id;\n            const destinos = salto.destino_ids;\n            destinos.forEach(destino => {\n                const conexion = {\n                    origen,\n                    destino,\n                    id: md5(origen + \"_\" + destino + (salto.condicion ? \"_\" + salto.condicion + \"_\" + salto.respuesta : \"\"))\n                }\n                if (salto.respuesta) {\n                    const condicionName = CONDITIONS_ARRAY.find(item => item.code === salto.condicion).name;\n                    conexion.condicion = {\n                        code: salto.condicion,\n                        name: condicionName\n                    };\n                    if (![\"YES\", \"NO\"].includes(salto.condicion)) {\n                        const tareaNombre = tareasData.results.find(item => item.codigo === salto.respuesta).nombre\n                        conexion.respuesta = {\n                            id: salto.respuesta,\n                            name: tareaNombre\n                        };\n                    } else {\n                        const respuestaNombre = tareasData.results.find(item => item.id === salto.origen_id).extra.elements.find(item => item.code === salto.respuesta).name;\n                        conexion.respuesta = {\n                            id: salto.respuesta,\n                            name: respuestaNombre\n                        };\n                    }\n                }\n                conexiones.push(conexion);\n            })\n        })\n        \n        this.setState({\n            conexiones: conexiones,\n            tareas: tareasData.results.map((tarea, index) => {\n                return {\n                    ...tarea,\n                    nombre: (index + 1) + \". \" + tarea.nombre,\n                    graphId: index + 1,\n                    optional: planificacion.opcionales_ids.find(o => o === tarea.id),\n                    initial: planificacion.iniciales_ids.find(i => i === tarea.id)\n                }\n            })\n        })\n    }\n\n    render() {\n        const {tareas, conexiones} = this.state\n        return (\n            conexiones && <Graph dataCy={\"graphShow\"} tareas={tareas} conexiones={conexiones} onClickNode={() => {}}/>\n        )\n    }\n}\n\nexport default GraphContainer","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport TareaSearchContainer from './SearchContainer';\nimport AddTareasSelectTareaContainer from './SelectTareaContainer';\nimport PendingTareasListContainer from './PendingTareasListContainer';\nimport AddTareasActionListContainer from './TareasActionListContainer';\nimport ActividadAddTareasButtonContainer from './ButtonContainer';\nimport GraphContainer from './GraphContainer';\nimport tokenManager from '../../../tokenManager';\n\nclass AddTareaContainer extends Component {\n    constructor() {\n        super();\n        this.state = {\n            actividad: null,\n            clonedTareas: []\n        }\n        this.getActividad = this.getActividad.bind(this);\n        this.getClonedTareas = this.getClonedTareas.bind(this);\n    }\n\n    async getActividad() {\n        const actividad = await tokenManager.getActividad(this.props.actividadId);\n        if (actividad.error_code) {\n            //TODO: set error messages\n            return;\n        }\n        this.setState({\n            actividad: actividad\n        });\n    }\n\n    async getClonedTareas() {\n        const clonedTareas = await tokenManager.getTareasForActividad(this.props.clone);\n        if (clonedTareas.error_code) {\n            //TODO: set error messages\n            return;\n        }\n        this.setState({\n            clonedTareas: clonedTareas.results\n        });\n    }\n\n    componentDidMount() {\n        this.getActividad();\n        if (this.props.clone) {\n            this.getClonedTareas();\n        }\n    }\n\n    remainingTareas = () => {\n        return this.state.clonedTareas.filter((item, index) => {\n            return index >= this.props.chosenTareas.length\n        }\n        )\n    }\n\n    render() {\n        return (\n            <>\n                <TareaSearchContainer />\n                <AddTareasSelectTareaContainer\n                    actividadId={this.state.actividad ? this.props.actividadId : null}\n                    clone={this.props.clone}\n                    disabled={this.props.chosenTareas.length === this.state.clonedTareas.length}\n                />\n                <AddTareasActionListContainer\n                    clone={this.props.clone}\n                    clonedTareas={this.state.clonedTareas}\n                    remainingTareas={this.remainingTareas()}\n                />\n                {this.props.clone && <PendingTareasListContainer remainingTareas={this.remainingTareas()} />}\n                {this.state.actividad && <ActividadAddTareasButtonContainer actividadId={this.state.actividad.id} clone={this.props.clone} />}\n                {this.props.clone &&\n                    <GraphContainer actividadId={this.props.clone} />\n                }\n            </>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { chosenTareas } = state.actividadTareas;\n    return {\n        chosenTareas\n    }\n}\n\nexport default connect(mapStateToProps)(AddTareaContainer);","import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport queryString from 'query-string';\nimport AddTareaContainer from '../../components/Actividad/AddTarea/AddTareaContainer';\n\nfunction getClone(search) {\n    const values = queryString.parse(search)\n    return values.clone || false\n}\n\nconst ActividadAddTareas = ({ match: { params }, location: { search } }) => {\n    return (\n        <Container>\n            <Row>\n                <Col>\n                    <h2>Elegir tareas {getClone(search) && \"(clonando actividad)\"}</h2>\n                </Col>\n            </Row>\n            <Row>\n                <Col style={{ border: \"1px solid black\", padding: \"2em\" }}>\n                    <AddTareaContainer actividadId={params.id} clone={getClone(search)} />\n                </Col>\n            </Row>\n        </Container>\n\n    )\n}\n\nexport default ActividadAddTareas;","import React from 'react';\nimport { InputGroup, FormControl, Button, Col, Row } from 'react-bootstrap';\n\nconst FormOption = (props) => {\n    return (\n        <Col>\n            <Row>\n                <Col>\n                    Elementos\n                        <InputGroup className=\"mb-3\">\n                        <FormControl type=\"text\" value={props.elementName} placeholder=\"Nuevo elemento\" data-cy=\"formOption\" onChange={props.onChange} onKeyPress={props.onKeyPress} />\n                        <InputGroup.Append>\n                            <Button variant=\"success\" disabled={props.elementName === \"\"} type=\"button\" data-cy=\"buttonAgregarOption\" onClick={props.onClick}>\n                                Agregar\n                                    </Button>\n                        </InputGroup.Append>\n                    </InputGroup>\n                </Col>\n            </Row>\n        </Col>\n    )\n}\n\nexport default FormOption;\n\n\n\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { addElementToExtra } from '../../../redux/actions';\n\nimport { getRandomSlug } from '../../../utils'\nimport FormOption from './FormOption';\n\nclass FormOptionContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            elementName: '',\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.onClick = this.onClick.bind(this);\n        this.onKeyPress = this.onKeyPress.bind(this);\n    }\n\n    handleChange(e) {\n        this.setState({\n            elementName: e.target.value\n        })\n    }\n\n    onClick(e) {\n        e.preventDefault();\n        const element = { \"name\": this.state.elementName, \"code\": getRandomSlug() }\n        this.props.dispatch(addElementToExtra(element));\n        this.setState({\n            elementName: ''\n        });\n    }\n\n    onKeyPress(e) {\n        if (e.key === \"Enter\") {\n            if (this.state.elementName !== \"\") {\n                this.onClick(e);\n            }\n        }\n    }\n\n    render() {\n        return <FormOption elementName={this.state.elementName} onChange={this.handleChange} onKeyPress={this.onKeyPress} onClick={this.onClick} />\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { optionsByAttribute } = state\n\n    return {\n        optionsByAttribute\n    }\n}\n\nexport default connect(mapStateToProps)(FormOptionContainer);\n\n\n\n\n","import React from 'react';\nimport { Row, Col } from 'react-bootstrap';\n\nimport ActionList from '../../UI/ActionList'\nimport FormOptionContainer from './FormOptionContainer';\n\nconst FormElegirOpcion = (props) => {\n    const elements = props.elements\n    return (\n        <div>\n            <h4>Elegir una opción</h4>\n            <Row>\n                <Col>\n                    <ActionList items={elements} field={\"name\"} value={\"code\"} action={true} onClick={props.onClick} />\n                </Col>\n                <Col />\n            </Row>\n            <Row>\n                <Col>\n                    <FormOptionContainer />\n                </Col>\n                <Col />\n            </Row>\n        </div>\n    )\n}\n\nexport default FormElegirOpcion;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { removeElementFromExtra } from '../../../redux/actions'\n\nimport FormElegirOpcion from './FormElegirOpcion';\n\nclass FormElegirOpcionContainer extends Component {\n\n    onClick = (item) => {\n        this.props.dispatch(removeElementFromExtra(item))\n    }\n\n    render() {\n        const elements = this.props.elements\n        return (\n            <FormElegirOpcion elements={elements} onClick={this.onClick} />\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { elements } = state.tareaExtra;\n    return {\n        elements,\n    }\n}\n\nexport default connect(mapStateToProps)(FormElegirOpcionContainer);","import React from 'react';\nimport { InputGroup, Button } from 'react-bootstrap';\n\nimport Select from '../../UI/Select';\n\nconst FormValidElements = (props) => {\n    return (\n        <InputGroup>\n            <Select\n                defaultValue={\"\"}\n                placeholder={\"Elegí un elemento\"}\n                options={props.options}\n                onChange={props.onChange}\n                onPropsChangeLess={props.onPropsChangeLess}\n                value={\"code\"}\n                field={\"name\"}\n                controlId={\"valids-select\"}\n            />\n            <span>\n                <Button variant=\"info\" type=\"button\" data-cy={\"buttonAgregarValid\"} onClick={props.onClick} disabled={props.disabled} >\n                    Agregar\n                    </Button>\n            </span>\n        </InputGroup>\n    )\n}\n\nexport default FormValidElements;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { addValidElementToExtra } from '../../../redux/actions'\n\nimport FormValidElements from './FormValidElements';\n\nclass FormValidElementsContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedElementId: \"\"\n        }\n    }\n\n    onClick = () => {\n        if (this.state.selectedElementId !== \"\") {\n            this.props.dispatch(addValidElementToExtra(this.state.selectedElementId))\n        }\n    }\n\n    onChange = (e) => {\n        this.setState({\n            selectedElementId: e.target.value\n        })\n    }\n\n    onPropsChangeLess = () => {\n        this.setState({\n            selectedElementId: \"\"\n        })\n    }\n\n    render() {\n        return <FormValidElements options={this.props.elements} onChange={this.onChange} onPropsChangeLess={this.onPropsChangeLess}\n            onClick={this.onClick} disabled={this.state.selectedElementId === \"\"} />\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { elements } = state.tareaExtra;\n    return {\n        elements,\n    }\n}\n\nexport default connect(mapStateToProps)(FormValidElementsContainer);","import React from 'react';\nimport { Row, Col, InputGroup, FormGroup, FormControl, Form } from 'react-bootstrap';\nimport FormCheckInput from 'react-bootstrap/FormCheckInput';\nimport FormCheckLabel from 'react-bootstrap/FormCheckLabel';\n\nimport ActionList from '../../UI/ActionList';\nimport FormOptionContainer from './FormOptionContainer';\nimport FormValidElementsContainer from './FormValidElementsContainer';\n\nconst FormMultipleChoice = (props) => {\n    const { elements, validElements, depositos } = props;\n    return (\n        <div>\n            <h4>{props.title}</h4>\n            {\n                props.recoleccion && depositos.length === 0 ?\n                    <>\n                        <Row>\n                            <Col>\n                                No hay depósitos, agregá tareas de depósito primero\n                                </Col>\n                        </Row>\n                        <br></br>\n                    </>\n                    :\n                    <>\n                        {props.recoleccion &&\n                            <Row>\n                                <Col>\n                                    <FormGroup>\n                                        <Form.Label>Plano</Form.Label>\n                                        <FormControl name=\"images\" type=\"file\" data-cy={\"file-input\"} onChange={props.onChangePlano} />\n                                    </FormGroup>\n                                </Col>\n                            </Row>}\n                        <Row>\n                            <Col>\n                                {props.recoleccion ?\n                                    <ActionList dataCy={\"elements\"} items={elements} field={\"name\"} value={\"code\"} action={true} onClick={props.onClickElements}\n                                        checkboxGroup={{\n                                            items: depositos, onChange: props.onChangeChecks, label: \"Depósitos\",\n                                            field: \"nombre\", value: \"codigo\"\n                                        }} />\n                                    :\n                                    <ActionList items={elements} field={\"name\"} value={\"code\"} action={true} onClick={props.onClickElements} />\n                                }\n                            </Col>\n                            <Col />\n                        </Row>\n                        <Row>\n                            <FormOptionContainer />\n                            <Col />\n                        </Row>\n                        <Row>\n                            <Col>\n                                <Col>\n                                    <InputGroup className=\"mb-3\">\n                                        <FormCheckLabel>\n                                            <FormCheckInput type={\"checkbox\"} data-cy={\"validCheckbox\"} onChange={props.onChangeCheck} />\n                                            Indicar elementos válidos\n                                            </FormCheckLabel>\n                                    </InputGroup>\n                                </Col>\n                            </Col>\n                            <Col />\n                        </Row>\n\n                        {props.valid &&\n                            <>\n                                <Row>\n                                    <Col>\n                                        <ActionList dataCy={\"actionListValids\"} items={\n                                            validElements.map(item => {\n                                                return {\n                                                    code: item,\n                                                    name: elements.find(element => element.code === item).name\n                                                }\n                                            })\n                                        } action={true} group={\"valids\"} onClick={props.onClickValids} value={\"code\"} field={\"name\"} />\n                                    </Col>\n                                    <Col />\n                                </Row>\n                                <Row>\n                                    <Col>\n                                        <FormValidElementsContainer />\n                                    </Col>\n                                    <Col />\n                                </Row>\n                            </>\n                        }\n                    </>\n            }\n        </div>\n    )\n}\n\nexport default FormMultipleChoice;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { removeValidElementFromExtra, removeElementFromExtra, addDepositToElement, removeDepositFromElement, addFileToExtra } from '../../../redux/actions'\n\nimport FormMultipleChoice from './FormMultipleChoice';\n\nclass FormMultipleChoiceContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            valid: false\n        }\n    }\n\n    handleCheck = (e) => {\n        this.setState({\n            valid: !this.state.valid\n        })\n    }\n\n    onClickElements = (item) => {\n        this.props.dispatch(removeElementFromExtra(item));\n        this.props.dispatch(removeValidElementFromExtra(item.code));\n    }\n\n    onClickValids = (item) => {\n        this.props.dispatch(removeValidElementFromExtra(item.code))\n    }\n\n    onChangeChecks = (e) => {\n        const codes = e.target.name.split('-');\n        const depositCode = codes[0];\n        const elementCode = codes[1];\n        if (e.target.checked) {\n            this.props.dispatch(addDepositToElement(elementCode, depositCode));\n        } else {\n            this.props.dispatch(removeDepositFromElement(elementCode, depositCode))\n        }\n    }\n\n    handlePlano = (event) => {\n        event.preventDefault();\n        const file = event.target.files[0];\n\n        if (file) {\n            this.props.dispatch(addFileToExtra(window.URL.createObjectURL(file), file.type));\n        }\n        else {\n            console.log(\"no files selected\");\n        }\n    }\n\n    render() {\n        const { elements, validElements, chosenTareas } = this.props;\n        const depositos = chosenTareas\n            .filter(tarea => tarea.tipo.codigo === \"deposit\")\n            .map(tarea => { return { codigo: tarea.codigo, nombre: tarea.nombre } });\n        return (\n            <FormMultipleChoice title={this.props.title} recoleccion={this.props.recoleccion} depositos={depositos}\n                onChangePlano={this.handlePlano} elements={elements} onClickElements={this.onClickElements}\n                onChangeChecks={this.onChangeChecks} onChangeCheck={this.handleCheck}\n                valid={this.state.valid} validElements={validElements} onClickValids={this.onClickValids} />\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { elements, validElements } = state.tareaExtra;\n    const { chosenTareas } = state.actividadTareas;\n    return {\n        elements,\n        validElements,\n        chosenTareas\n    }\n}\n\nexport default connect(mapStateToProps)(FormMultipleChoiceContainer);","import React from 'react';\nimport { Button } from 'react-bootstrap';\n\nimport Input from '../../UI/Input'\n\nconst FormContador = (props) => {\n    return (\n        <div>\n            <h4>Nuevo criterio</h4>\n            <Input value={props.nombre} label={\"Nombre\"} placeholder={\"Nombre\"}\n                controlId={\"formNombreCriterio\"} horizontal name={\"nombre\"}\n                onChange={props.onChange}\n            />\n            <Input value={props.mensaje} label={\"Mensaje\"} placeholder={\"Mensaje\"}\n                controlId={\"formMensajeCriterio\"} horizontal name={\"mensaje\"}\n                onChange={props.onChange} onKeyPress={props.onKeyPress}\n            />\n            <Button type=\"button\" variant=\"success\" className=\"float-right\" onClick={props.onClick}\n                disabled={props.disabled}>Agregar</Button>\n        </div>\n    )\n}\n\nexport default FormContador;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { addByScoreCriterion } from '../../../redux/actions'\n\nimport FormContador from './FormContador';\n\nclass FormContadorContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            nombre: '',\n            mensaje: ''\n        }\n    }\n\n    onClick = () => {\n        if ((this.state.nombre !== '') && (this.state.mensaje !== '')) {\n            this.props.dispatch(addByScoreCriterion({\n                name: this.state.nombre,\n                message: this.state.mensaje,\n                scores: {}\n            }));\n            this.setState({\n                nombre: '',\n                mensaje: ''\n            })\n        }\n    }\n\n    handleInput = (e) => {\n        let value = e.target.value;\n        let name = e.target.name;\n        this.setState({\n            [name]: value\n        });\n    }\n\n    onKeyPress = (e) => {\n        if (e.key === \"Enter\") {\n            this.onClick(e);\n        }\n    }\n\n    render() {\n        return <FormContador nombre={this.state.nombre} onChange={this.handleInput} mensaje={this.state.mensaje}\n            onKeyPress={this.onKeyPress} onClick={this.onClick} disabled={(this.state.nombre === '') || (this.state.mensaje === '')} />\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { tareaExtra } = state;\n    return {\n        tareaExtra\n    }\n}\n\nexport default connect(mapStateToProps)(FormContadorContainer);","import React from 'react';\nimport { Row, Col, Button } from 'react-bootstrap';\n\nimport ActionList from '../../UI/ActionList';\nimport FormOptionContainer from './FormOptionContainer';\nimport FormContadorContainer from './FormContadorContainer';\n\nconst FormContadores = (props) => {\n    const { criterios, elements } = props;\n    return (\n        <div>\n            <h3>Contadores</h3>\n            <Row>\n                <Col>\n                    <FormOptionContainer />\n                    <ActionList dataCy={\"opciones\"} items={elements} action onClick={props.onClick}\n                        group={\"elements\"} value={\"code\"} field={\"name\"} />\n                </Col>\n                <Col></Col>\n            </Row>\n            {criterios.map(item =>\n                <div key={item.name}>\n                    <h4>{item.name} <Button variant={\"danger\"} onClick={(e) => props.onClickQuitarLink(e, item)}>Quitar</Button></h4>\n                    <i>{item.message}</i>\n                    <Row>\n                        <Col>\n                            <ActionList dataCy={\"contadores\"} items={elements}\n                                input={{ type: \"number\", onChange: props.onChange }}\n                                group={item.name} value={\"code\"} field={\"name\"} />\n                        </Col>\n                        <Col />\n                    </Row>\n                </div>)\n            }\n            <Row>\n                <Col>\n                    <FormContadorContainer />\n                </Col>\n                <Col />\n            </Row>\n        </div>\n    )\n}\n\nexport default FormContadores;","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport {\n    removeElementFromExtra, addScoreToCriterion, removeByScoreCriterion,\n    removeScoreFromCriteria\n} from '../../../redux/actions'\n\nimport FormContadores from './FormContadores';\n\nclass FormContadoresContainer extends Component {\n\n    onClick = (item) => {\n        this.props.dispatch(removeElementFromExtra(item));\n        this.props.dispatch(removeScoreFromCriteria(item.code))\n    }\n\n    onClickQuitarLink = (e, item) => {\n        e.preventDefault();\n        this.props.dispatch(removeByScoreCriterion(item));\n    }\n\n    onChange = (e) => {\n        e.preventDefault();\n        const score = {\n            code: e.target.name.split('-')[0],\n            value: e.target.value\n        };\n        const criterionName = e.target.id.split('-')[1];\n        if (e.target.value !== \"\") {\n            this.props.dispatch(addScoreToCriterion(score, criterionName))\n        }\n    }\n\n    render() {\n        return <FormContadores criterios={this.props.criterios} onClick={this.onClick}\n            elements={this.props.elements} onClickQuitarLink={this.onClickQuitarLink} onChange={this.onChange} />\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { tareaExtra } = state;\n    const { byScore, elements } = tareaExtra;\n    return {\n        criterios: byScore,\n        elements\n    }\n}\nexport default connect(mapStateToProps)(FormContadoresContainer);","import React from 'react';\nimport { Row, Col } from 'react-bootstrap';\n\nimport { FormGroup } from 'react-bootstrap';\nimport { FormControl } from 'react-bootstrap';\nimport { Form } from 'react-bootstrap';\n\nconst FormDeposito = (props) => {\n        return (\n            <div>\n                <h4>Depósito</h4>\n                <Row>\n                    <Col>\n                        <FormGroup>\n                            <Form.Label>Plano</Form.Label>\n                            <FormControl name=\"images\" data-cy={\"file-input\"} type=\"file\" onChange={props.handlePlano} />\n                        </FormGroup>\n                    </Col>\n                </Row>\n            </div>\n        )\n}\n\nexport default FormDeposito;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { addFileToExtra } from '../../../redux/actions'\n\nimport FormDeposito from './FormDeposito';\n\nclass FormDepositoContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            valid: false\n        }\n        this.handlePlano = this.handlePlano.bind(this);\n    }\n\n    handlePlano(event) {\n        event.preventDefault();\n        const plano = event.target.files[0];\n\n        if (plano) {\n            this.props.dispatch(addFileToExtra(window.URL.createObjectURL(plano), plano.type));\n        }\n        else {\n            console.log(\"no files selected\");\n        }\n    }\n\n    render() {\n        return <FormDeposito handlePlano={this.handlePlano} />\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {}\n}\n\nexport default connect(mapStateToProps)(FormDepositoContainer);","import React from 'react';\n\nimport FormElegirOpcionContainer from './Extra/FormElegirOpcionContainer';\nimport { TIPO_SELECCION, TIPO_MULTIPLE_CHOICE, TIPO_CONTADORES, TIPO_RECOLECCION, TIPO_DEPOSITO } from '../../config';\nimport FormMultipleChoiceContainer from './Extra/FormMultipleChoiceContainer';\nimport FormContadoresContainer from './Extra/FormContadoresContainer';\nimport FormDepositoContainer from './Extra/FormDepositoContainer';\n\nfunction TareaExtra(props) {\n    switch (props.tipoTarea) {\n        case TIPO_SELECCION:\n            return (\n                <FormElegirOpcionContainer />\n            );\n        case TIPO_MULTIPLE_CHOICE:\n            return (\n                <FormMultipleChoiceContainer title={\"Opción múltiple\"}/>\n            );\n        case TIPO_CONTADORES:\n            return (\n                <FormContadoresContainer />\n            );\n        case TIPO_RECOLECCION:\n            return (\n                <FormMultipleChoiceContainer title={\"Recolección\"} recoleccion/>\n            );\n        case TIPO_DEPOSITO:\n            return (\n                <FormDepositoContainer />\n            )\n        default:\n            return null;\n    }\n}\n\nexport default TareaExtra;","import React from 'react';\nimport { Form, Button, Col, Spinner } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nimport Input from '../UI/Input';\nimport SelectAPI from '../UI/SelectAPI';\nimport FormDominioContainer from '../Dominio/FormContainer';\nimport TareaExtra from './TareaExtra';\nimport { Formik } from 'formik';\nimport { getRandomSlug } from '../../utils';\n\nconst FormTarea = (props) => {\n    return (\n        <Formik\n            initialValues={{\n                nombre: '',\n                consigna: '',\n                tipo: '',\n                dominio: '',\n                estado: '',\n                codigo: getRandomSlug()\n            }}\n            validator={() => ({})}\n            validate={\n                values => {\n                    const errors = {};\n                    if (!values.nombre) {\n                        errors.nombre = \"Falta nombre\";\n                    }\n                    if (!values.consigna) {\n                        errors.consigna = \"Falta consigna\";\n                    }\n                    if (!values.tipo) {\n                        errors.tipo = \"Falta tipo de tarea\";\n                    }\n                    if (!values.dominio) {\n                        errors.dominio = \"Falta dominio\";\n                    }\n                    if (!values.estado) {\n                        errors.estado = \"Falta estado\";\n                    }\n                    return errors;\n                }\n            }\n            onSubmit={(values, { setSubmitting }) => {\n                setSubmitting(false);\n                props.onSubmit(values);\n            }}\n        >\n            {({\n                values,\n                errors,\n                touched,\n                handleChange,\n                handleBlur,\n                submitForm,\n                isSubmitting,\n            }) =>\n                (<Form>\n                    <Form.Row>\n                        <Col>\n                            <Input controlId={\"formNombre\"}\n                                label={\"Nombre\"}\n                                name={\"nombre\"}\n                                type={\"text\"}\n                                placeholder={\"Nombre\"}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                                value={values.nombre}\n                            />\n                            {errors.nombre && touched.nombre && errors.nombre &&\n                                <Form.Text className=\"text-danger\" style={{ marginTop: \"-1em\" }}>\n                                    {errors.nombre}\n                                </Form.Text>\n                            }\n                        </Col>\n                        <Col>\n                            <Input controlId={\"formConsigna\"}\n                                label={\"Consigna\"}\n                                name={\"consigna\"}\n                                type={\"text\"}\n                                placeholder={\"Consigna\"}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                                value={values.consigna}\n                            />\n                            {errors.consigna && touched.consigna && errors.consigna &&\n                                <Form.Text className=\"text-danger\" style={{ marginTop: \"-1em\" }}>\n                                    {errors.consigna}\n                                </Form.Text>\n                            }\n                        </Col>\n                    </Form.Row>\n\n                    <Form.Row>\n                        <Col>\n                            <SelectAPI\n                                uri={\"/tipos-tarea\"}\n                                attribute={\"tipo\"}\n                                controlId={\"formTipo\"}\n                                label={\"Tipo\"}\n                                name={\"tipo\"}\n                                defaultValue={\"\"}\n                                placeholder={\"Elegí un tipo\"}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                            {errors.tipo && touched.tipo && errors.tipo &&\n                                <Form.Text className=\"text-danger\" style={{ marginTop: \"-1em\" }}>\n                                    {errors.tipo}\n                                </Form.Text>\n                            }\n                        </Col>\n                        <Col>\n                            <SelectAPI\n                                uri={'/estados'}\n                                attribute={\"estado\"}\n                                controlId={\"formEstado\"}\n                                label={\"Estado\"}\n                                name={\"estado\"}\n                                defaultValue={\"\"}\n                                placeholder={\"Elegí un estado\"}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                            {errors.estado && touched.estado && errors.estado &&\n                                <Form.Text className=\"text-danger\" style={{ marginTop: \"-1em\" }}>\n                                    {errors.estado}\n                                </Form.Text>\n                            }\n                        </Col>\n                    </Form.Row>\n                    <Form.Row>\n                        <Col>\n                            <SelectAPI\n                                uri={'/dominios'}\n                                attribute={\"dominio\"}\n                                controlId={\"formDominio\"}\n                                label={\"Dominio\"}\n                                name={\"dominio\"}\n                                defaultValue={\"\"}\n                                placeholder={\"Elegí un dominio\"}\n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                            />\n                            {errors.dominio && touched.dominio && errors.dominio &&\n                                <Form.Text className=\"text-danger\" style={{ marginTop: \"-1em\" }}>\n                                    {errors.dominio}\n                                </Form.Text>\n                            }\n                        </Col>\n                        <Col></Col>\n                    </Form.Row>\n                    <Form.Row>\n                        <FormDominioContainer />\n                        <Col></Col>\n                    </Form.Row>\n\n                    <hr />\n\n                    <TareaExtra tipoTarea={values.tipo} />\n\n                    {props.error &&\n                        <Form.Text className=\"text-danger\" style={{ marginTop: \"-1em\" }}>\n                            {props.errorMessage}\n                        </Form.Text>\n                    }\n                    {props.isLoading ?\n                        <Button variant=\"info\" disabled>\n                            <Spinner\n                                as=\"span\"\n                                animation=\"border\"\n                                size=\"sm\"\n                                role=\"status\"\n                                aria-hidden=\"true\"\n                            />\n                            Cargando...\n                    </Button>\n                        :\n                        props.success ?\n                            <Link to={\"/actividad/\" + props.actividadId}>\n                                <Button variant=\"primary\" type=\"button\" >Continuar</Button>\n                            </Link>\n                            :\n                            <Button variant=\"info\" type=\"button\" disabled={props.success} onClick={submitForm}>\n                                Guardar\n                        </Button>\n                    }\n                </Form>)}\n        </Formik>\n    )\n}\n\nexport default FormTarea;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { addTarea, setCurrentActividad, clearTareaExtra } from '../../redux/actions';\n\nimport { TIPOS_EXTRA, TIPO_SELECCION, TIPO_MULTIPLE_CHOICE, TIPO_CONTADORES, TIPO_RECOLECCION, TIPOS_PLANO } from '../../config';\nimport tokenManager from '../../tokenManager';\nimport TareaForm from './Form';\n\nclass FormTareaContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            tarea: null,\n            isLoading: false,\n            success: false,\n            error: false,\n            errorMessage: \"\"\n        }\n        let id = this.props.actividadId;\n        if (id) {\n            this.setCurrentActividad(id);\n        }\n        this.props.dispatch(clearTareaExtra())\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\n        this.handleInput = this.handleInput.bind(this);\n    }\n\n    async setCurrentActividad(id) {\n        const data = await tokenManager.getActividad(id);\n        if (data.error_code) {\n            this.setState({\n                error: true,\n                errorMessage: data.user_message\n            });\n            return;\n        }\n        this.props.dispatch(setCurrentActividad(data));\n    }\n\n    isEmpty(obj) {\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key))\n                return false;\n        }\n        return true;\n    }\n\n    processExtra(extra, tipo) {\n        switch (tipo) {\n            case TIPO_SELECCION:\n                return {\n                    elements: extra.elements\n                };\n            case TIPO_MULTIPLE_CHOICE:\n                return {\n                    elements: extra.elements,\n                    validElements: extra.validElements\n                };\n            case TIPO_CONTADORES:\n                return {\n                    elements: extra.elements,\n                    byScore: extra.byScore\n                }\n            case TIPO_RECOLECCION:\n                return {\n                    elements: extra.elements,\n                    validElements: extra.validElements\n                }\n            default:\n                break;\n        }\n\n    }\n\n    async handleFormSubmit(values) {\n        const { nombre, consigna, tipo, dominio, codigo, estado } = values;\n        const { extra } = this.props;\n        this.setState({\n            isLoading: true,\n            error: false,\n            errorMessage: ''\n        });\n\n        if (TIPOS_EXTRA.includes(tipo)) {\n            if (extra.elements.length === 0) {\n                this.setState({\n                    errorMessage: \"Faltan elementos\",\n                    error: true,\n                    isLoading: false,\n                })\n                return;\n            }\n\n            if (tipo === TIPO_CONTADORES) {\n                let criterionErrors = false\n                extra.byScore.forEach(criterion => {\n                    const settedElements = Object.keys(criterion.scores);\n                    if (settedElements.length < extra.elements.length) {\n                        this.setState({\n                            isLoading: false,\n                            error: true,\n                            errorMessage: \"Falta llenar valores en el criterio \" + criterion.name\n                        });\n                        criterionErrors = true;\n                        return;\n                    }\n                });\n                if (criterionErrors) {\n                    return;\n                }\n            }\n            if (tipo === TIPO_RECOLECCION) {\n                let elementErrors = false;\n                extra.elements.forEach(element => {\n                    if (!element.deposits || element.deposits.length === 0) {\n                        this.setState({\n                            isLoading: false,\n                            error: true,\n                            errorMessage: \"Hay elementos sin depósitos: \" + element.name\n                        });\n                        elementErrors = true;\n                        return\n                    }\n                });\n                if (!extra.plano) {\n                    elementErrors = true;\n                }\n                if (elementErrors) {\n                    return;\n                }\n            }\n        }\n        \n        if (TIPOS_PLANO.includes(tipo)) {\n            if(!extra.plano || !extra.plano.url) {\n                this.setState({\n                    isLoading: false,\n                    error: true,\n                    errorMessage: \"Falta imagen para el plano\"\n                });\n                return\n            }\n        }\n\n        let processedExtra = null;\n        if (TIPOS_EXTRA.includes(tipo)) {\n            processedExtra = this.processExtra(extra, tipo);\n        }\n\n        let tarea = this.state.tarea;\n        if(!tarea) {\n            const tareaData = await tokenManager.createTarea({\n                \"nombre\": nombre,\n                \"consigna\": consigna,\n                \"codigo\": codigo,\n                \"tipo\": tipo,\n                \"dominio\": dominio,\n                \"estado\": estado,\n                \"extraData\": processedExtra\n            });\n            if (tareaData.error_code) {\n                this.setState({\n                    isLoading: false,\n                    error: true,\n                    errorMessage: tareaData.user_message\n                });\n                return\n            }\n\n            this.setState({\n                tarea: tareaData\n            });\n            tarea = tareaData;\n        }\n\n        if (TIPOS_PLANO.includes(tipo)) {\n            const response = await fetch(extra.plano.url);\n            const blob = await response.blob();\n            const plano = new File([blob], codigo + '.png', { type: extra.plano.filetype });\n            const formData = new FormData();\n            formData.append('plano', plano);\n            const planoData = await tokenManager.addPlanoToTarea(formData, tarea.id);\n            if (planoData.error_code) {\n                this.setState({\n                    isLoading: false,\n                    error: true,\n                    errorMessage: planoData.user_message\n                });\n                return;\n            }\n        }\n\n        this.props.dispatch(addTarea(tarea));\n\n        this.setState({\n            success: true,\n            isLoading: false,\n            error: false,\n            errorMessage: ''\n        });\n    }\n\n    handleInput(e) {\n        let value = e.target.value;\n        let name = e.target.name;\n        if (name === \"tipo\") {\n            this.props.dispatch(clearTareaExtra())\n        }\n        this.setState({\n            newTarea: {\n                ...this.state.newTarea, [name]: value\n            }\n        });\n    }\n\n    onPropsChangeMore = (value) => {\n        const { newTarea } = this.state;\n        newTarea.dominio = value;\n        this.setState({\n            newTarea: newTarea\n        })\n    }\n\n    render() {\n        return (\n            <TareaForm onChange={this.handleInput} onPropsChangeMore={this.onPropsChangeMore}\n                error={this.state.error} errorMessage={this.state.errorMessage}\n                isLoading={this.state.isLoading} success={this.state.success} actividadId={this.props.currentActividad.id}\n                onSubmit={this.handleFormSubmit}\n            />\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { currentActividad } = state.actividad;\n    const extra = state.tareaExtra;\n    return {\n        currentActividad,\n        extra\n    }\n}\n\nexport default connect(mapStateToProps)(FormTareaContainer);","import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport FormTareaContainer from '../../components/Tarea/FormContainer';\n\nconst FormTarea = ({ match: { params } }) => {\n    return (\n        <Container>\n            <Row>\n                <Col>\n                    <h2>{!params.tareaid ? \"Crear\" : \"Editar\"} tarea</h2>\n                </Col>\n            </Row>\n            <Row>\n                <Col style={{ border: \"1px solid black\", padding: \"2em\" }}>\n                    <FormTareaContainer actividadId={params.id} />\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n\nexport default FormTarea;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nconst ShowLinksList = ({items, uriPrefix}) => {\n    return (\n        <ul>\n            {items && items.map((item, index) =>\n                <Link key={index} to={uriPrefix + \"/\" + item.id + '/mostrar'}>\n                    <li>{item.nombre}</li>\n                </Link>\n            )}\n        </ul>\n    )\n}\n\nShowLinksList.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.shape({\n        nombre: PropTypes.string,\n        id: PropTypes.number\n    })),\n    uriPrefix: PropTypes.string.isRequired\n}\n\nexport default ShowLinksList;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ShowLinksList from '../UI/ShowLinksList';\n\nconst ActividadPublicList = ({ success, actividades, error, errorMessage }) => {\n    return (\n        error ? <span className=\"text-danger\">{errorMessage}</span>\n            : success &&\n                actividades.length > 0 ? <ShowLinksList items={actividades} uriPrefix=\"/actividad\" />\n                : \"No hay actividades\"\n    )\n\n\n}\n\nexport default ActividadPublicList;\n\nActividadPublicList.propTypes = {\n    success: PropTypes.bool.isRequired,\n    actividades: PropTypes.arrayOf(PropTypes.shape({\n        nombre: PropTypes.string,\n        id: PropTypes.number\n    }))\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport tokenManager from '../../tokenManager';\nimport ListaActividades from './PublicList'\n\nclass ActividadPublicListContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            actividades: [],\n            success: false,\n            error: false,\n            errorMessage: null\n        }\n        this.getActividades = this.getActividades.bind(this);\n    }\n\n    componentDidMount() {\n        this.getActividades();\n    }\n\n    async getActividades() {\n        const data = await tokenManager.getActividadesPublic();\n        try {\n            if (!data.error_code) {\n                this.setState({\n                    actividades: data.results,\n                    success: true\n                })\n            } else {\n                this.setState({\n                    error: true,\n                    errorMessage: \"Ocurrió un error\"\n                })\n            }\n        } catch (error) {\n            this.setState({\n                error: true,\n                errorMessage: \"Ocurrió un error\"\n            })\n        }\n    }\n    render() {\n        return (\n            <ListaActividades actividades={this.state.actividades} success={this.state.success}\n                error={this.state.error} errorMessage={this.state.errorMessage} />\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return state\n}\n\nexport default connect(mapStateToProps)(ActividadPublicListContainer);","import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport ActividadPublicListContainer from '../../components/Actividad/PublicListContainer';\n\nconst ActividadPublicList = (props) => {\n    return (\n        <Container>\n            <Row>\n                <Col>\n                    <h2>Actividades públicas</h2>\n                </Col>\n            </Row>\n            <Row>\n                <Col style={{ border: \"1px solid black\", padding: \"2em\" }}>\n                    <ActividadPublicListContainer />\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n\nexport default ActividadPublicList","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ShowLinksList from '../UI/ShowLinksList';\n\nconst ActividadListUser = ({ success, actividades }) => {\n    return success && <ShowLinksList items={actividades} uriPrefix={\"/actividad\"} />\n}\n\nexport default ActividadListUser;\n\nActividadListUser.propTypes = {\n    success: PropTypes.bool.isRequired,\n    actividades: PropTypes.arrayOf(PropTypes.shape({\n        nombre: PropTypes.string,\n        id: PropTypes.number\n    }))\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport tokenManager from '../../tokenManager';\nimport ListaMisActividades from './ListUser';\n\nclass ActividadListUserContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            actividades: [],\n            success: false\n        }\n        this.getActividades = this.getActividades.bind(this);\n    }\n\n    componentDidMount() {\n        this.getActividades();\n    }\n\n    async getActividades() {\n        const data = await tokenManager.getMisActividades();\n        if (!data.error_code) {\n            this.setState({\n                actividades: data.results,\n                success: true\n            })\n        }\n    }\n    render() {\n        return (\n            <ListaMisActividades success={this.state.success} actividades={this.state.actividades}/>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return state\n}\n\nexport default connect(mapStateToProps)(ActividadListUserContainer);","import React from 'react';\nimport ActividadListUserContainer from '../../components/Actividad/ListUserContainer';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nconst ActividadListUser = (props) => {\n    return (\n        <Container>\n            <Row>\n                <Col>\n                    <h2>Mis actividades</h2>\n                </Col>\n            </Row>\n            <Row>\n                <Col style={{ border: \"1px solid black\", padding: \"2em\" }}>\n                    <ActividadListUserContainer />\n                </Col>\n            </Row>\n        </Container >\n    )\n}\n\nexport default ActividadListUser;","import React from 'react';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport { API_BASE_URL } from '../../config';\nimport Graph from '../Planificacion/Graph';\n\nfunction ActividadShow({ actividad, tareas, conexiones, errors }) {\n    return (\n        <>\n            {\n                actividad &&\n                <>\n                    <Row>\n                        <Col>Nombre: {actividad.nombre}</Col>\n                    </Row>\n                    <Row>\n                        <Col>Objetivo: {actividad.objetivo}</Col>\n                    </Row>\n                    <Row>\n                        <Col>Idioma: {actividad.idioma.nombre}</Col>\n                    </Row>\n                    <Row>\n                        <Col>Dominio: {actividad.dominio.nombre}</Col>\n                    </Row>\n                    <Button href={API_BASE_URL + \"/public/actividades/\" + actividad.id + \"/data\"}>Descargar</Button>\n                    <hr />\n                    <Row>\n                        <Col>\n                            <legend>Tareas</legend>\n                            <ul>\n                                {tareas.map(tarea =>\n                                    <li key={tarea.id}>{tarea.nombre}</li>\n                                )}\n                            </ul>\n                        </Col>\n                    </Row>\n                    {conexiones && <Graph dataCy={\"graphShow\"} tareas={tareas} conexiones={conexiones} onClickNode={() => {}}/>}\n                </>\n            }\n            {errors && <legend>Actividad no encontrada</legend>}\n        </>\n    )\n}\n\nexport default ActividadShow;","import React, { Component } from 'react';\n\nimport tokenManager from '../../tokenManager';\nimport ActividadShow from './Show';\nimport md5 from 'md5';\nimport { CONDITIONS_ARRAY } from '../../config';\n\nclass ActividadShowContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            actividad: null,\n            tareas: [],\n            errors: false\n        }\n        this.getActividadAndTareas = this.getActividadAndTareas.bind(this);\n    }\n\n    componentDidMount() {\n        this.getActividadAndTareas();\n    }\n\n    async getActividadAndTareas() {\n        const data = await tokenManager.getActividadPublic(this.props.actividadId)\n        if (!data.error_code) {\n            this.setState({\n                actividad: data\n            })\n        } else {\n            this.setState({\n                errors: true\n            })\n            return;\n        }\n\n        const tareasData = await tokenManager.getTareasForActividadPublic(data.id);\n        if (tareasData.error_code) {\n            this.setState({\n                errors: true\n            })\n            return\n        }\n\n        const conexiones = [];\n        const planificacion = await tokenManager.getPlanificacionForActividadPublic(data.id);\n        if (planificacion.error_code) {\n            this.setState({\n                errors: true,\n                errorMessage: planificacion.user_message\n            })\n            return\n        }\n\n        planificacion.saltos.forEach(salto => {\n            const origen = salto.origen_id;\n            const destinos = salto.destino_ids;\n            destinos.forEach(destino => {\n                const conexion = {\n                    origen,\n                    destino,\n                    id: md5(origen + \"_\" + destino + (salto.condicion ? \"_\" + salto.condicion + \"_\" + salto.respuesta : \"\"))\n                }\n                if (salto.respuesta) {\n                    const condicionName = CONDITIONS_ARRAY.find(item => item.code === salto.condicion).name;\n                    conexion.condicion = {\n                        code: salto.condicion,\n                        name: condicionName\n                    };\n                    if (![\"YES\", \"NO\"].includes(salto.condicion)) {\n                        const tareaNombre = tareasData.results.find(item => item.codigo === salto.respuesta).nombre\n                        conexion.respuesta = {\n                            id: salto.respuesta,\n                            name: tareaNombre\n                        };\n                    } else {\n                        const respuestaNombre = tareasData.results.find(item => item.id === salto.origen_id).extra.elements.find(item => item.code === salto.respuesta).name;\n                        conexion.respuesta = {\n                            id: salto.respuesta,\n                            name: respuestaNombre\n                        };\n                    }\n                }\n                conexiones.push(conexion);\n            })\n        })\n        \n        this.setState({\n            conexiones: conexiones,\n            tareas: tareasData.results.map((tarea, index) => {\n                return {\n                    ...tarea,\n                    nombre: (index + 1) + \". \" + tarea.nombre,\n                    graphId: index + 1,\n                    optional: planificacion.opcionales_ids.find(o => o === tarea.id),\n                    initial: planificacion.iniciales_ids.find(i => i === tarea.id)\n                }\n            })\n        })\n    }\n\n    render() {\n        const { actividad, tareas, conexiones, errors } = this.state;\n        return <ActividadShow actividad={actividad} tareas={tareas} errors={errors} conexiones={conexiones} />\n    }\n}\n\nexport default ActividadShowContainer;","import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport ActividadShowContainer from '../../components/Actividad/ShowContainer';\n\nconst ActividadShow = ({match: {params}}) => {\n    return (\n        <Container>\n            <Row>\n                <Col>\n                    <h2>Actividad</h2>\n                </Col>\n            </Row>\n            <Row>\n                <Col style={{ border: \"1px solid black\", padding: \"2em\" }}>\n                    <ActividadShowContainer actividadId={params.id}/>\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n\nexport default ActividadShow;","import React from 'react';\nimport FormCheckLabel from 'react-bootstrap/FormCheckLabel';\nimport FormCheckInput from 'react-bootstrap/FormCheckInput';\n\nfunction CheckBox(props) {\n    return (\n        <FormCheckLabel style={{ marginLeft: \"1.25rem\" }}>\n            <FormCheckInput data-cy={props.dataCy} type={\"checkbox\"} checked={props.checked}\n                onChange={props.onChange} />\n            <span>{props.label}</span>\n        </FormCheckLabel>\n    )\n}\nexport default CheckBox;","import React, { Component } from 'react';\nimport memoize from 'memoize-one'\nimport { Modal, Button, Card, Row, Col } from 'react-bootstrap';\nimport Select from '../UI/Select';\nimport CheckBox from '../UI/CheckBox';\nimport { TIPOS_OPCIONES, CONDITIONS_ARRAY, TASK_CONDITIONS_ARRAY } from '../../config';\nimport md5 from 'md5';\n\nclass ModalTarea extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            showConexiones: false,\n            showCondicion: false,\n            selectedSiguiente: null,\n            agregarConexionDisabled: true,\n            selectedCondition: null,\n            selectedAnswerTask: null\n        }\n    }\n\n    filterSiguientes = memoize(\n        (conexiones, idTarea) => conexiones.filter(conexion => conexion.origen === idTarea)\n    );\n\n    findTarea = memoize(\n        (tareaId, tareas) => tareas.find(tarea => tarea.id === tareaId)\n    )\n\n    onInicialChange = () => {\n        const { tarea } = this.props;\n        tarea.initial = !tarea.initial;\n        this.props.onUpdateTarea(tarea);\n    }\n\n    onOptionalChange = () => {\n        const { tarea } = this.props;\n        tarea.optional = !tarea.optional;\n        this.props.onUpdateTarea(tarea);\n    }\n\n    onClickMostrarConexiones = () => {\n        this.setState({\n            showConexiones: !this.state.showConexiones\n        })\n    }\n\n    onCondicionCheckboxChange = () => {\n        //if it wasn't checked (and now it is)\n        if (!this.state.showCondicion) {\n            this.setState({\n                agregarConexionDisabled: true\n            })\n        }\n        this.setState({\n            showCondicion: !this.state.showCondicion\n        })\n    }\n\n    onConexionChange = (e) => {\n        const index = e.nativeEvent.target.selectedIndex;\n        const origenName = e.nativeEvent.target[index].text\n        this.setState({\n            selectedSiguiente: { id: parseInt(e.target.value), name: origenName },\n            agregarConexionDisabled: false\n        })\n    }\n\n    onCondicionSelectChange = (e) => {\n        const index = e.nativeEvent.target.selectedIndex;\n        const condicionName = e.nativeEvent.target[index].text\n        this.setState({\n            selectedCondition: { code: e.target.value, name: condicionName },\n            agregarConexionDisabled: true\n        })\n    }\n\n    onAnswerTaskChange = (e) => {\n        const index = e.nativeEvent.target.selectedIndex;\n        const answerTaskName = e.nativeEvent.target[index].text\n        this.setState({\n            selectedAnswerTask: { id: e.target.value, name: answerTaskName },\n            agregarConexionDisabled: false\n        })\n\n    }\n\n    onClickAgregarConexion = () => {\n        const conexion = this.state.selectedSiguiente;\n        if (this.state.showCondicion) {\n            conexion.condicion = this.state.selectedCondition\n            conexion.respuesta = this.state.selectedAnswerTask;\n        }\n\n        conexion.origen = this.props.tarea.id;\n        conexion.destino = conexion.id;\n        conexion.id = md5(conexion.origen + \"_\" + conexion.destino + (conexion.condicion ? \"_\" + conexion.condicion + \"_\" + conexion.respuesta : \"\"));\n        this.props.onAddConexion(conexion);\n        this.props.handleClose();\n    }\n\n    getSelectableTareas = () => {\n        const conexionesSiguientes = this.filterSiguientes(this.props.conexiones, this.props.tarea.id);\n        const selectableTareas = this.props.tareas.filter(tarea => tarea.id !== this.props.tarea.id && conexionesSiguientes.findIndex(conexion => conexion.destino === tarea.id) === -1);\n        return selectableTareas;\n    }\n\n    tareaHasOptions = () => {\n        return TIPOS_OPCIONES.includes(this.props.tarea.tipo.id.toString());\n    }\n\n    getAnswerTaskLabel = () => {\n        if (this.state.selectedCondition) {\n            switch (this.state.selectedCondition.code) {\n                case \"YES\":\n                case \"NO\":\n                    return \"la opción\";\n                case \"YES_TASK\":\n                case \"NO_TASK\":\n                    return \"la tarea\";\n                default:\n                    return null;\n            }\n        } else return \"la opción/tarea...\"\n\n    }\n\n    getAnswerTareaSelect = () => {\n        if (this.state.selectedCondition) {\n            switch (this.state.selectedCondition.code) {\n                case \"YES\":\n                case \"NO\":\n                    return (\n                        <Select dataCy=\"condicionRespuesta\" key={this.state.selectedCondition.code} options={this.props.tarea.extra.elements} defaultValue={\"\"} value={\"code\"} field={\"name\"}\n                            placeholder={\"Elegir...\"} onChange={this.onAnswerTaskChange} />\n                    );\n                case \"YES_TASK\":\n                case \"NO_TASK\":\n                    return (\n                        <Select dataCy=\"condicionTarea\" key={this.state.selectedCondition.code} options={this.props.tareas} defaultValue={\"\"} value={\"codigo\"} field={\"nombre\"}\n                            placeholder={\"Elegir...\"} onChange={this.onAnswerTaskChange} />\n                    );\n                default:\n                    return null;\n            }\n        } else {\n            return (\n                <Select options={[]} defaultValue={\"\"} placeholder={\"Elegir...\"} />\n            )\n        }\n    }\n\n    render() {\n        const { tarea, show } = this.props;\n        return (\n            <Modal show={show} onHide={this.props.handleClose} animation={false} centered>\n                <Modal.Header closeButton>\n                    <Modal.Title>Tarea seleccionada: {tarea.nombre}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Card body>\n                        <p>{tarea.consigna}</p>\n                        <Row>\n                            <Col>\n                                <CheckBox checked={tarea.optional} onChange={this.onOptionalChange} label={\"Opcional\"} />\n                                <br />\n                                <CheckBox checked={tarea.initial} onChange={this.onInicialChange} label={\"Inicial\"} />\n                            </Col>\n                            <Col>\n                            {this.getSelectableTareas().length > 0 && !this.state.showConexiones && <Button variant=\"primary\" data-cy=\"agregarConexiones\" onClick={this.onClickMostrarConexiones} >Agregar conexiones</Button>}\n                            </Col>\n                        </Row>\n                        {this.state.showConexiones && this.getSelectableTareas().length > 0 &&\n                            <Card body>\n                                <h5>Agregar conexión</h5>\n                                <Row>\n                                    <Col>\n                                        <span>Hacia la tarea...</span>\n                                    </Col>\n                                    <Col>\n                                        <Select options={this.getSelectableTareas()} field={\"nombre\"} value={\"id\"} defaultValue={\"\"}\n                                            placeholder={\"Elegir siguiente\"} onChange={this.onConexionChange} />\n                                    </Col>\n                                </Row>\n\n                                {this.state.selectedSiguiente &&\n                                    <Row>\n                                        <Col md={6}>\n                                            <CheckBox dataCy=\"mostrarCondicion\" checked={this.state.showCondicion} onChange={this.onCondicionCheckboxChange} label={\"Mostrar condición\"} />\n                                        </Col>\n                                    </Row>}\n                                {this.state.showCondicion &&\n                                    <>\n                                        <Row>\n                                            <Col>Cuando...</Col>\n                                            <Col>\n                                                <Select dataCy=\"cuando\" options={ this.tareaHasOptions() ? CONDITIONS_ARRAY : TASK_CONDITIONS_ARRAY} defaultValue={\"\"} value={\"code\"} field={\"name\"}\n                                                    placeholder={\"Elegir...\"} onChange={this.onCondicionSelectChange} />\n                                            </Col>\n                                        </Row>\n                                        <Row>\n                                            <Col>{this.getAnswerTaskLabel()}</Col>\n                                            <Col>\n                                                {this.state.selectedSiguiente &&\n                                                    this.getAnswerTareaSelect()\n                                                }\n                                            </Col>\n                                        </Row>\n                                    </>\n                                }\n                                <Button variant=\"success\" className=\"float-right\" disabled={this.state.agregarConexionDisabled}\n                                    onClick={this.onClickAgregarConexion} data-cy=\"agregarConexion\">Agregar conexión</Button>\n                            </Card>\n                        }\n                    </Card>\n                </Modal.Body>\n            </Modal>\n        )\n    }\n}\n\nexport default ModalTarea;","import React from 'react';\nimport { Modal, Card, Button } from 'react-bootstrap';\n\nfunction getTareaById(tareas, id) {\n    return tareas.find(tarea => tarea.id === id);\n}\n\nfunction ModalConexion({ show, conexion, handleClose, tareas, onRemoveConexion }) {\n    return (\n        <Modal show={show} onHide={handleClose} animation={false} centered>\n            <Modal.Header closeButton>\n                <Modal.Title>Conexión</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Card body>\n                    Desde la tarea <b>\"{getTareaById(tareas, conexion.origen).nombre}\"</b> hacia la tarea\n                    {\" \"}<b>\"{getTareaById(tareas, conexion.destino).nombre}\"</b>\n                    {conexion.condicion &&\n                        <span>{\" \"}cuando <b>{conexion.condicion.name}</b> la {[\"YES\", \"NO\"].includes(conexion.condicion.code) ? \"opción\" : \"tarea\"} <b>{conexion.respuesta.name}</b></span>\n                    }\n                </Card>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"danger\" onClick={() => { onRemoveConexion(conexion); handleClose() }}>Quitar conexión</Button>\n            </Modal.Footer>\n        </Modal>\n    )\n}\n\nexport default ModalConexion;","import React from 'react';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nimport Graph from './Graph';\nimport ModalTarea from './ModalTarea';\nimport ModalConexion from './ModalConexion';\n\nconst PlanificacionEdit = (props) => {\n    return (\n        <>\n            <h6 style={{ color: 'gray' }}><i>\n                {props.graphConexiones.length === 0 ?\n                    \"Para iniciar la conexión entre tareas selecione una tarea incial\"\n                    : \"Para conectar dos tareas seleccione una tarea\"\n                }\n            </i></h6>\n            <Row style={{ border: \"1px solid black\", paddingTop: \"2em\", paddingBottom: \"2em\" }}>\n                <Col>\n                    {props.success &&\n                        <Graph tareas={props.tareas}\n                            conexiones={props.conexiones} actividadId={props.actividadId}\n                            onClickNode={props.onClickNode} onClickEdge={props.onClickEdge} />\n                    }\n                    {props.success && !props.saveSuccess &&\n                        <Button type=\"button\" className=\"float-right\" variant=\"info\" onClick={props.onGuardarClick} >Guardar</Button>\n                    }\n                    {props.saveSuccess &&\n                        <Link to=\"./mostrar\">\n                            <Button type=\"button\" className=\"float-right\" variant=\"info\">Continuar</Button>\n                        </Link>\n                    }\n                    {props.selectedTarea &&\n                        <ModalTarea key={props.selectedTarea.id} handleClose={props.handleCloseTarea}\n                            show={props.showTarea} tarea={props.selectedTarea} tareas={props.tareas}\n                            conexiones={props.conexiones} onUpdateTarea={props.onUpdateTarea} onAddConexion={props.onAddConexion}\n                        />}\n                    {props.selectedConexion &&\n                        <ModalConexion key={props.selectedConexion.id} handleClose={props.handleCloseConexion}\n                            show={props.showConexion} conexion={props.selectedConexion} tareas={props.tareas}\n                            onRemoveConexion={props.onRemoveConexion} />\n                    }\n                </Col>\n            </Row>\n        </>\n    )\n}\n\nexport default PlanificacionEdit;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { setCurrentActividad } from '../../redux/actions'\n\n\nimport tokenManager from '../../tokenManager';\nimport md5 from 'md5';\nimport { CONDITIONS_ARRAY } from '../../config';\nimport PlanificacionEdit from './Edit';\n\nclass PlanificacionEditContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            success: false,\n            graphTareas: [],\n            graphConexiones: [],\n            showTarea: false,\n            showConexion: false,\n            selectedTarea: null,\n            selectedConexion: null,\n            errors: \"\",\n            saveSuccess: false\n        }\n        this.setCurrentActividad(this.props.actividadId);\n        this.Graph = React.createRef();\n    }\n\n    onUpdateTarea = (tarea) => {\n        this.setState({\n            graphTareas: [...this.state.graphTareas.map(t => t.id === tarea.id ? tarea : t)]\n        })\n    }\n\n    onAddConexion = (newConexion) => {\n        this.setState({\n            graphConexiones: [...this.state.graphConexiones.filter(conexion => conexion.id !== newConexion.id), newConexion]\n        })\n    }\n\n    onResetSaltos = (tareaId) => {\n        const newSaltos = this.state.graphConexiones.filter(\n            conexion =>\n                conexion.origen !== tareaId &&\n                conexion.destino !== tareaId)\n        this.setState({\n            graphConexiones: [...newSaltos]\n        })\n    }\n\n    onRemoveConexion = (conexion) => {\n        const conexiones = this.state.graphConexiones;\n        const newConexiones = conexiones.filter(con => con.id !== conexion.id);\n        this.setState({\n            graphConexiones: [...newConexiones]\n        })\n    }\n\n    async setCurrentActividad(id) {\n        const data = await tokenManager.getActividad(id);\n        if (data.error_code) {\n            this.setState({\n                error: true,\n                errorMessage: data.user_message\n            });\n            return;\n        }\n        this.props.dispatch(setCurrentActividad(data));\n        const dataTareas = await tokenManager.getTareasForActividad(id);\n        if (data.error_code) {\n            this.setState({\n                error: true,\n                errorMessage: data.user_message\n            });\n            return;\n        }\n        const conexiones = [];\n        const planificacion = await tokenManager.getPlanificacionForActividad(id);\n\n        planificacion.saltos.forEach(salto => {\n            const origen = salto.origen_id;\n            const destinos = salto.destino_ids;\n            destinos.forEach(destino => {\n                const conexion = {\n                    origen,\n                    destino,\n                    id: md5(origen + \"_\" + destino + (salto.condicion ? \"_\" + salto.condicion + \"_\" + salto.respuesta : \"\"))\n                }\n                if (salto.respuesta) {\n                    const condicionName = CONDITIONS_ARRAY.find(item => item.code === salto.condicion).name;\n                    conexion.condicion = {\n                        code: salto.condicion,\n                        name: condicionName\n                    };\n                    if (![\"YES\", \"NO\"].includes(salto.condicion)) {\n                        const tareaNombre = dataTareas.results.find(item => item.codigo === salto.respuesta).nombre\n                        conexion.respuesta = {\n                            id: salto.respuesta,\n                            name: tareaNombre\n                        };\n                    } else {\n                        const respuestaNombre = dataTareas.results.find(item => item.id === salto.origen_id).extra.elements.find(item => item.code === salto.respuesta).name;\n                        conexion.respuesta = {\n                            id: salto.respuesta,\n                            name: respuestaNombre\n                        };\n                    }\n                }\n                conexiones.push(conexion);\n            })\n        });\n\n        const tareas = dataTareas.results.map((tarea, index) => {\n            return {\n                ...tarea,\n                nombre: (index + 1) + \". \" + tarea.nombre,\n                id: tarea.id,\n                graphId: index + 1,\n                optional: planificacion.opcionales_ids.find(o => o === tarea.id),\n                initial: planificacion.iniciales_ids.find(i => i === tarea.id)\n            }\n        })\n        this.setState({\n            graphTareas: tareas,\n            graphConexiones: conexiones,\n            success: true\n        });\n    }\n\n    createJumps(tarea, graphNodes) {\n        const saltos = [];\n        const jumps = graphNodes[tarea.id];\n        const conditionalJumps = jumps.filter(jump => jump.condicion);\n        console.log(conditionalJumps);\n        const jumpsByAnswer = {};\n        conditionalJumps.forEach(jump => {\n            (jumpsByAnswer[jump.respuesta.id] = jumpsByAnswer[jump.respuesta.id] || []).push(jump)\n        })\n        Object.keys(jumpsByAnswer).forEach(key => {\n            const targetByCondition = {};\n            jumpsByAnswer[key].forEach(jump => {\n                (targetByCondition[jump.condicion.code] = targetByCondition[jump.condicion.code] || []).push(jump.destino)\n            })\n            Object.keys(targetByCondition).forEach(k => {\n                console.log(\"salto condicional\");\n                saltos.push({\n                    \"origen\": tarea.id,\n                    \"condicion\": k,\n                    \"destinos\": targetByCondition[k],\n                    \"respuesta\": key\n                });\n            })\n        })\n        const targets = jumps.filter(jump => jump.condicion === undefined).map(jump => jump.destino);\n        //conditionalJumps.length === 0 && \n\n        console.log(targets);\n        if (targets.length > 0) {\n            console.log(\"salto forzado\");\n            saltos.push({\n                \"origen\": tarea.id,\n                \"condicion\": \"ALL\",\n                \"destinos\": targets\n            });\n        }\n        return saltos;\n    }\n\n    onGuardarClick = () => {\n        const actividadId = this.props.currentActividad.id;\n        const tareas = this.state.graphTareas;\n        const conexiones = this.state.graphConexiones;\n        const graphNodes = {};\n        tareas.forEach(tarea => { graphNodes[tarea.id] = [] });\n        conexiones.forEach(conexion => {\n            graphNodes[conexion.origen].push(conexion);\n        })\n        let saltos = [];\n        tareas.forEach(tarea => saltos = saltos.concat(this.createJumps(tarea, graphNodes)));\n        const opcionalIds = this.state.graphTareas.filter(tarea => tarea.optional).map(tarea => tarea.id);\n        let inicialIds = this.state.graphTareas.filter(tarea => tarea.initial).map(tarea => tarea.id);\n        const destinos = this.state.graphConexiones.map(conexion => conexion.destino);\n        this.state.graphTareas.forEach(tarea => {\n            if (!destinos.includes(tarea.id)) {\n                inicialIds = [...inicialIds.filter(id => id !== tarea.id), tarea.id]\n            }\n        })\n        if (this.setPlanificacion(opcionalIds, inicialIds, saltos, actividadId)) {\n            this.setState({\n                saveSuccess: true\n            })\n        }\n    }\n\n    async setPlanificacion(opcionales, iniciales, saltos, id) {\n        const data = await tokenManager.setPlanificacionInActividad({\n            \"saltos\": saltos,\n            \"iniciales\": iniciales,\n            \"opcionales\": opcionales\n        }, id);\n        if (data.error_code) {\n            this.setState({\n                saveSuccess: false,\n                errors: data.user_message\n            })\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n\n    handleShowTarea = (tareaId) => {\n        const tarea = this.state.graphTareas.find(tarea => tarea.id === tareaId);\n        this.setState({\n            showTarea: true,\n            selectedTarea: tarea\n        })\n    }\n\n    handleCloseTarea = () => {\n        this.setState({\n            showTarea: false,\n            selectedTarea: null\n        })\n    }\n\n    handleShowConexion = (conexionId) => {\n        const conexion = this.state.graphConexiones.find(conexion => conexion.id === conexionId);\n        this.setState({\n            showConexion: true,\n            selectedConexion: conexion\n        })\n    }\n\n    handleCloseConexion = () => {\n        this.setState({\n            showConexion: false,\n            selectedConexion: null\n        })\n    }\n\n\n    render() {\n        return (\n            <PlanificacionEdit graphConexiones={this.state.graphConexiones} tareas={this.state.graphTareas}\n                conexiones={this.state.graphConexiones} actividadId={this.props.actividadId}\n\n                selectedTarea={this.state.selectedTarea} handleCloseTarea={this.handleCloseTarea}\n                showTarea={this.handleShowTarea}\n                onClickNode={this.handleShowTarea} onClickEdge={this.handleShowConexion}\n                onUpdateTarea={this.onUpdateTarea} onAddConexion={this.onAddConexion}\n\n                selectedConexion={this.state.selectedConexion} handleCloseConexion={this.handleCloseConexion}\n                showConexion={this.handleShowConexion} onRemoveConexion={this.onRemoveConexion}\n                success={this.state.success} saveSuccess={this.state.saveSuccess}\n                onGuardarClick={this.onGuardarClick}\n            />\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { currentActividad } = state.actividad;\n    const { chosenTareas } = state.actividadTareas;\n    return {\n        currentActividad,\n        chosenTareas\n    }\n}\nexport default connect(mapStateToProps)(PlanificacionEditContainer);","import React from 'react';\nimport PlanificacionEditContainer from '../../components/Planificacion/EditContainer';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nconst PlanificacionEdit = ({ match: { params } }) => {\n    return (\n        <Container>\n            <Row>\n                <Col>\n                    <h2>Planificación de tareas</h2>\n                </Col>\n            </Row>\n            <PlanificacionEditContainer actividadId={params.id} />\n        </Container>\n    )\n}\n\nexport default PlanificacionEdit;","import React from 'react';\nimport ShowLinksList from '../UI/ShowLinksList';\n\nconst TareasPublicList = (props) => {\n    return (\n        props.success && <ShowLinksList uriPrefix=\"/tarea\" items={props.tareas} />\n    )\n}\n\nexport default TareasPublicList;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport tokenManager from '../../tokenManager';\nimport TareasPublicList from './PublicList';\n\nclass TareasPublicListContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            tareas: [],\n            success: false\n        }\n        this.getTareas = this.getTareas.bind(this);\n    }\n\n    componentDidMount() {\n        this.getTareas();\n    }\n\n    async getTareas() {\n        const data = await tokenManager.getTareasPublic();\n        if (!data.error_code) {\n            this.setState({\n                tareas: data.results,\n                success: true\n            })\n        }\n    }\n    render() {\n        return (\n            <TareasPublicList success={this.state.success} tareas={this.state.tareas} />\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return state\n}\n\nexport default connect(mapStateToProps)(TareasPublicListContainer);","import React from 'react';\nimport TareasPublicListContainer from '../../components/Tarea/PublicListContainer';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nconst TareaPublicList = ({ match: { params } }) => {\n    return (\n        <Container>\n            <Row>\n                <Col>\n                    <h2>Tareas públicas</h2>\n                </Col>\n            </Row>\n            <Row>\n                <Col style={{ border: \"1px solid black\", padding: \"2em\" }}>\n                    <TareasPublicListContainer />\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n\nexport default TareaPublicList;","import React from 'react';\nimport ShowLinksList from '../UI/ShowLinksList';\n\nconst TareaListUser = (props) => {\n    return (\n        props.success && <ShowLinksList uriPrefix=\"/tarea\" items={props.tareas} />\n    )\n}\n\nexport default TareaListUser;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport tokenManager from '../../tokenManager';\nimport ListaMisTareas from './ListUser';\n\nclass TareaListUserContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            tareas: [],\n            success: false\n        }\n        this.getTareas = this.getTareas.bind(this);\n    }\n\n    componentDidMount() {\n        this.getTareas();\n    }\n\n    async getTareas() {\n        const data = await tokenManager.getMisTareas();\n        if (!data.error_code) {\n            this.setState({\n                tareas: data.results,\n                success: true\n            })\n        }\n    }\n    render() {\n        return (\n            <ListaMisTareas success={this.state.success} tareas={this.state.tareas} />\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return state\n}\n\nexport default connect(mapStateToProps)(TareaListUserContainer);","import React from 'react';\nimport ListUserContainer from '../../components/Tarea/ListUserContainer';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nconst TareaListUser = ({ match: { params } }) => {\n    return (\n        <Container>\n            <Row>\n                <Col>\n                    <h2>Mis tareas</h2>\n                </Col>\n            </Row>\n            <Row>\n                <Col style={{ border: \"1px solid black\", padding: \"2em\" }}>\n                    <ListUserContainer />\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n\nexport default TareaListUser;","import React from 'react';\nimport { Row, Col, Image } from 'react-bootstrap';\n\nconst TareaShow = (props) => {\n    const { tarea, errors } = props;\n    return (\n        <>\n            {\n                tarea &&\n                <>\n                    <Row>\n                        <Col>Nombre: {tarea.nombre}</Col>\n                    </Row>\n                    <Row>\n                        <Col>Consigna: {tarea.consigna}</Col>\n                    </Row>\n                    <Row>\n                        <Col>Tipo: {tarea.tipo.nombre}</Col>\n                    </Row>\n                    <Row>\n                        <Col>Dominio: {tarea.dominio.nombre}</Col>\n                    </Row>\n                    <Row>\n                        <Col>\n                            {props.imgSrc && <Image src={props.imgSrc} style={{ width: \"30em\" }} />\n                            }\n                        </Col>\n                    </Row>\n                </>\n            }\n            {errors && <legend>Tarea no encontrada</legend>}\n        </>\n    )\n}\n\nexport default TareaShow;","import React, { Component } from 'react';\n\nimport { TIPOS_PLANO } from '../../config';\nimport tokenManager from '../../tokenManager';\nimport TareaShow from './Show';\n\nclass TareaShowContainer extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            tarea: null,\n            errors: false\n        }\n        this.getTarea = this.getTarea.bind(this);\n        this.getTarea();\n    }\n\n    async getTarea() {\n        const data = await tokenManager.getTareaPublic(this.props.actividadId)\n        if (!data.error_code) {\n            this.setState({\n                tarea: data\n            })\n        } else {\n            this.setState({\n                errors: true\n            })\n        }\n    }\n\n    render() {\n        let imgSrc = null;\n        if(this.state.tarea) {\n            imgSrc = TIPOS_PLANO.includes(this.state.tarea.tipo.id.toString()) ? \"http://localhost:8080/uploads/planos/\" + this.state.tarea.codigo + \".png\" : null\n        }\n        return <TareaShow tarea={this.state.tarea} errors={this.state.errors} imgSrc={imgSrc} />\n    }\n}\n\nexport default TareaShowContainer;","import React from 'react';\nimport TareaShowContainer from '../../components/Tarea/ShowContainer';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nconst TareaShow = ({ match: { params } }) => {\n    return (\n        <Container>\n            <Row>\n                <Col>\n                    <h2>Tarea</h2>\n                </Col>\n            </Row>\n            <Row>\n                <Col style={{ border: \"1px solid black\", padding: \"2em\" }}>\n                    <TareaShowContainer actividadId={params.id} />\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n\nexport default TareaShow;","import React from 'react';\nimport { Route, HashRouter } from 'react-router-dom';\nimport { Container } from 'react-bootstrap'\n\nimport withAuthorization from './components/Main/withAuthorization';\nimport MenuContainer from './components/Menu/MenuContainer';\nimport Homepage from './screens/Main/Homepage';\nimport Callback from './screens/Main/Callback';\nimport ActividadForm from './screens/Actividad/Form';\nimport ActividadAddTareas from './screens/Actividad/AddTareas';\nimport TareaForm from './screens/Tarea/Form'\nimport ActividadPublicList from './screens/Actividad/PublicList';\nimport ActividadListUser from './screens/Actividad/ListUser';\nimport ActividadShow from './screens/Actividad/Show';\nimport PlanificacionEdit from './screens/Planificacion/Edit';\nimport TareaPublicList from './screens/Tarea/PublicList';\nimport TareaListUser from './screens/Tarea/ListUser';\nimport TareaShow from './screens/Tarea/Show';\n\nimport Usuario from './components/Main/loggedIn';\nconst Autor = withAuthorization(['ROLE_AUTOR']);\n\nfunction App() {\n  return (\n    <HashRouter basename=\"/\">\n      <MenuContainer />\n      <Container style={{ marginTop: '1em' }}>\n        <Route path=\"/\" exact component={Usuario(Homepage)} />\n        <Route path=\"/callback\" component={Callback} />\n        <Route path=\"/nuevaActividad\" exact component={Autor(ActividadForm)} />\n        <Route path=\"/actividad/:id\" exact component={Autor(ActividadAddTareas)} />\n        <Route path=\"/actividad/:id/nuevaTarea\" exact component={Autor(TareaForm)} />\n        <Route path=\"/nuevaTarea\" exact component={Autor(TareaForm)} />\n        <Route path=\"/actividad/:id/planificacion\" exact component={Autor(PlanificacionEdit)} />\n        <Route path=\"/actividades\" exact component={ActividadPublicList} />\n        <Route path=\"/mis-actividades/\" exact component={Autor(ActividadListUser)} />\n        <Route path=\"/actividad/:id/mostrar\" exact component={ActividadShow} />\n        <Route path=\"/tareas\" exact component={TareaPublicList} />\n        <Route path=\"/mis-tareas\" exact component={Autor(TareaListUser)} />\n        <Route path=\"/tarea/:id/mostrar\" exact component={TareaShow} />\n      </Container>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, compose } from 'redux'\nimport { Provider } from 'react-redux'\nimport { loadUser } from \"redux-oidc\";\nimport { OidcProvider } from 'redux-oidc';\nimport reducer from './redux/index'\n\nimport userManager from \"./userManager\";\nimport App from './App';\nimport tokenManager from './tokenManager';\n\n//@ts-ignore\nif (process.env.NODE_ENV === \"development\") {\n    require('whatwg-fetch'); //for polyfill cypress test \n}\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n    reducer,\n    composeEnhancers()\n)\n\nloadUser(store, userManager);\ntokenManager.initialize(store);\ntokenManager.loadApiUser()\n\nReactDOM.render(\n    <Provider store={store}>\n        <OidcProvider store={store} userManager={userManager}>\n            <App />\n        </OidcProvider>\n    </Provider>,\n    document.getElementById('root')\n);"],"sourceRoot":""}